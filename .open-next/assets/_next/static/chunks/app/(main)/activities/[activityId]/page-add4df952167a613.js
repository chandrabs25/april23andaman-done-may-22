(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{7022:function(e,t,s){Promise.resolve().then(s.bind(s,8285))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},44:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},8501:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3974:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},9934:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7877:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},4286:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5929:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},7806:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5131:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9376:function(e,t,s){"use strict";var i=s(5475);s.o(i,"useParams")&&s.d(t,{useParams:function(){return i.useParams}}),s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(t,{useSearchParams:function(){return i.useSearchParams}})},8285:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return V}});var i=s(7437),a=s(2265),n=s(9376),c=s(7648),r=s(3145),l=s(9889),o=s(5863),d=s(3639),u=s(2451),m=s(3774),h=s(1723),p=s(6595),x=s(9763);let y=(0,x.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var g=s(3974),f=s(3245);let v=(0,x.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var j=s(5805),k=s(7806),b=s(9934);let N=(0,x.Z)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);var _=s(7877),w=s(5929),Z=s(5302),M=s(5131),z=s(8501),A=s(4286),D=s(44);let L="bg-gray-800",S="border-gray-100",R="border-gray-200",F="text-gray-800",P="text-gray-600",U="text-gray-600",C="py-10 md:py-12",q="bg-white rounded-2xl shadow-lg border ".concat(S," p-6 transition-shadow hover:shadow-xl"),E="text-lg font-semibold ".concat(F," mb-3 flex items-center"),I="inline-flex items-center justify-center ".concat(L," ").concat("hover:bg-gray-900"," ").concat("text-white"," px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800"),O="inline-flex items-center justify-center ".concat("bg-white"," ").concat("hover:bg-gray-100"," ").concat("text-gray-700"," ").concat("border border-gray-300"," px-4 py-2 rounded-full font-medium transition-all duration-300 text-sm shadow-sm"),T=()=>(0,i.jsxs)("div",{className:"container mx-auto px-4 ".concat(C," text-center ").concat("bg-gray-50"," rounded-2xl border ").concat(S),children:[(0,i.jsx)(o.Z,{className:"h-12 w-12 animate-spin ".concat(U," mx-auto mb-4")}),(0,i.jsx)("p",{className:"text-xl font-semibold ".concat(F),children:"Loading Activity Details..."}),(0,i.jsx)("p",{className:"".concat(P),children:"Please wait a moment."})]}),B=e=>{let{message:t}=e;return(0,i.jsxs)("div",{className:"container mx-auto px-4 ".concat(C," text-center ").concat("bg-red-50"," rounded-2xl border ").concat("border-red-200"),children:[(0,i.jsx)(d.Z,{className:"h-12 w-12 ".concat("text-red-500"," mx-auto mb-4")}),(0,i.jsx)("p",{className:"text-xl font-semibold ".concat("text-red-700"),children:"Could Not Load Activity"}),(0,i.jsx)("p",{className:"".concat(P),children:t||"The activity details could not be retrieved. It might be unavailable or the link may be incorrect."}),(0,i.jsxs)(c.default,{href:"/activities",className:"mt-6 ".concat(O),children:[(0,i.jsx)(u.Z,{size:18,className:"mr-2"})," Back to Activities"]})]})},H=e=>{let{title:t,icon:s,children:a,className:n}=e;return(0,i.jsxs)("div",{className:"py-5 border-b ".concat(S," last:border-b-0 ").concat(n||""),children:[(0,i.jsxs)("h2",{className:E,children:[" ",s&&(0,i.jsx)(s,{size:20,className:"mr-2.5 ".concat(U)})," ",t]}),(0,i.jsx)("div",{className:"text-sm ".concat(P," leading-relaxed space-y-2"),children:a})]})};var V=()=>{var e,t,s;let o;let d=(0,n.useParams)().activityId,x="true"===(0,n.useSearchParams)().get("isAdminPreview"),[E,V]=(0,a.useState)(!1),[W,J]=(0,a.useState)({});console.log("\uD83D\uDD0D ActivityDetailPage: Loading activity with ID:",d);let G=x?"/api/admin/service_preview/".concat(d):"/api/services-main/".concat(d),{data:K,error:X,status:Y}=(0,l.i)(d?G:null),Q="error"===Y?X:null;console.log("\uD83D\uDD0D ActivityDetailPage: API Response:",JSON.stringify(K));let $=null;if(K&&("data"in K&&K.data?$=K.data:("name"in K||"type"in K&&K.type)&&($=K)),console.log("\uD83D\uDD0D ActivityDetailPage: Service Data:",JSON.stringify($)),$&&("activity"===$.service_category||$.type&&"string"==typeof $.type&&$.type.startsWith("activity"))&&(o=$),console.log("\uD83D\uDD0D ActivityDetailPage: Processed Activity:",o?"Valid":"Invalid or non-activity service"),"loading"===Y)return(0,i.jsx)(T,{});if(Q||!o)return(0,i.jsx)(B,{message:(null==Q?void 0:Q.message)||(null==K?void 0:K.message)||"Activity not found or invalid type."});let ee=(e=>{if(!e.amenities)return[];if("string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);if(t&&"object"==typeof t&&"general_amenities"in t&&Array.isArray(t.general_amenities))return t.general_amenities.map(String);if(Array.isArray(t))return t.map(String);return e.amenities.split(",").map(e=>e.trim()).filter(Boolean)}catch(t){return e.amenities.split(",").map(e=>e.trim()).filter(Boolean)}return Array.isArray(e.amenities)?e.amenities.map(String):[]})(o),et=e=>!e||"string"!=typeof e||""===e.trim()||["null","undefined"].includes(e.toLowerCase())?"/images/placeholder_service.jpg":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/images/".concat(e),es=et(null===(e=o.images)||void 0===e?void 0:e[0]),ei=(null!==(s=o.images)&&void 0!==s?s:[]).slice(1).map(et).filter(e=>"/images/placeholder_service.jpg"!==e),ea=o.duration&&o.duration_unit?"".concat(o.duration," ").concat(o.duration_unit):o.duration?"".concat(o.duration," hours"):null,en=()=>{V(!0)},ec=e=>{J(t=>({...t,[e]:!0}))};return(0,i.jsxs)("div",{className:"bg-white min-h-screen",children:[" ",x&&(0,i.jsxs)("div",{className:"container mx-auto px-4 py-3 my-4 text-center bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg shadow",children:[(0,i.jsx)("p",{className:"font-semibold text-base",children:"ADMIN PREVIEW MODE"}),(0,i.jsx)("p",{className:"text-sm",children:"You are viewing this activity as an administrator. Approval status is shown below."})]}),(0,i.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40 border-b ".concat(S),children:(0,i.jsx)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:(0,i.jsxs)(c.default,{href:"/activities",className:O,children:[" ",(0,i.jsx)(u.Z,{size:18,className:"mr-1.5"}),"Back to Activities"]})})}),(0,i.jsxs)("div",{className:"container mx-auto px-4 ".concat(C),children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(F," mb-2"),children:[o.name,x&&void 0!==o.is_admin_approved&&(0,i.jsxs)("span",{className:"ml-3 text-sm align-middle font-medium px-2.5 py-0.5 rounded-full ".concat(o.is_admin_approved?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Status: ",o.is_admin_approved?"Approved":"Pending Approval"]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center text-sm ".concat(P," gap-x-4 gap-y-1.5"),children:[o.island_name&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(m.Z,{size:15,className:"mr-1.5 ".concat(U)})," ",o.island_name]}),ea&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(h.Z,{size:15,className:"mr-1.5 ".concat(U)})," ",ea]}),null!==o.rating&&"number"==typeof o.rating&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(p.Z,{size:15,className:"mr-1 text-yellow-400 fill-current"})," ",o.rating.toFixed(1),"/5.0"]}),o.difficulty_level&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(y,{size:15,className:"mr-1.5 ".concat(U)}),o.difficulty_level.charAt(0).toUpperCase()+o.difficulty_level.slice(1)," Difficulty"]})]}),(null===(t=o.provider)||void 0===t?void 0:t.business_name)&&(0,i.jsxs)("p",{className:"text-sm ".concat(P," mt-2"),children:["Offered by: ",(0,i.jsx)("span",{className:"font-medium ".concat(F),children:o.provider.business_name})]})]}),(0,i.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-10",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[(0,i.jsxs)("div",{className:"mb-6 rounded-2xl overflow-hidden shadow-lg relative aspect-[16/10] border ".concat(S),children:[(0,i.jsx)(r.default,{src:es,alt:"Main image for ".concat(o.name),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null,en()},priority:!0,unoptimized:!0,sizes:"(max-width: 1024px) 100vw, 66vw",loading:"eager"}),E&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,i.jsx)(g.Z,{size:48,className:"".concat(U," opacity-50")})})]}),ei.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:ei.map((e,t)=>(0,i.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md aspect-square relative border ".concat(S),children:[(0,i.jsx)(r.default,{src:e,alt:"".concat(o.name," gallery image ").concat(t+1),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null,ec(t)},unoptimized:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw",loading:"lazy"}),W[t]&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,i.jsx)(g.Z,{size:32,className:"".concat(U," opacity-50")})})]},t))}),(0,i.jsxs)("div",{className:q,children:[(0,i.jsx)(H,{title:"About this Activity",icon:f.Z,children:(0,i.jsx)("p",{children:o.description||"Detailed description not available."})}),(0,i.jsx)(H,{title:"Activity Highlights",icon:v,children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-3",children:[ea&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(h.Z,{size:18,className:"mr-2 ".concat(U," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(F),children:"Duration"}),(0,i.jsx)("p",{children:ea})]})]}),(o.group_size_min||o.group_size_max)&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(j.Z,{size:18,className:"mr-2 ".concat(U," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(F),children:"Group Size"}),(0,i.jsxs)("p",{children:[o.group_size_min&&o.group_size_max?"".concat(o.group_size_min," to ").concat(o.group_size_max):o.group_size_min?"Min ".concat(o.group_size_min):"Max ".concat(o.group_size_max)," people"]})]})]}),o.difficulty_level&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(y,{size:18,className:"mr-2 ".concat(U," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(F),children:"Difficulty"}),(0,i.jsx)("p",{children:o.difficulty_level.charAt(0).toUpperCase()+o.difficulty_level.slice(1)})]})]}),o.guide_required&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(k.Z,{size:18,className:"mr-2 ".concat(U," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(F),children:"Guide"}),(0,i.jsx)("p",{children:"Professional guide included"})]})]})]})}),o.equipment_provided&&o.equipment_provided.length>0&&(0,i.jsx)(H,{title:"Equipment Provided",icon:b.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(U),children:o.equipment_provided.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.safety_requirements&&(0,i.jsx)(H,{title:"Safety First",icon:N,children:(0,i.jsx)("p",{children:o.safety_requirements})}),ee.length>0&&(0,i.jsx)(H,{title:"General Amenities",icon:v,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(U),children:ee.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.location_details&&(0,i.jsxs)(H,{title:"Location & Meeting Point",icon:_.Z,children:[(0,i.jsx)("p",{children:o.location_details}),o.latitude&&o.longitude&&(0,i.jsxs)("a",{href:"https://maps.google.com/?q=".concat(o.latitude,",").concat(o.longitude),target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm ".concat(L," text-white hover:opacity-90 font-medium px-3 py-1.5 rounded-md"),children:["View on Map ",(0,i.jsx)(m.Z,{size:14,className:"ml-1.5"})]})]}),o.what_to_bring&&o.what_to_bring.length>0&&(0,i.jsx)(H,{title:"What to Bring",icon:w.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(U),children:o.what_to_bring.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.included_services&&o.included_services.length>0&&(0,i.jsx)(H,{title:"What's Included",icon:Z.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(U),children:o.included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.not_included_services&&o.not_included_services.length>0&&(0,i.jsx)(H,{title:"What's Not Included",icon:M.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(U),children:o.not_included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.availability_summary&&"string"==typeof o.availability_summary&&(0,i.jsx)(H,{title:"Availability Notes",icon:z.Z,children:(()=>{try{let e=JSON.parse(o.availability_summary);if(e&&"object"==typeof e){let t=Array.isArray(e.days)?e.days.join(", "):null,s="string"==typeof e.notes?e.notes:null;if(t||s)return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)("p",{className:"font-medium ".concat(F," mb-1"),children:["Available on: ",t]}),s&&(0,i.jsx)("p",{children:s})]})}}catch(e){console.warn("Failed to parse availability_summary JSON:",e)}return(0,i.jsx)("p",{children:o.availability_summary})})()}),(0,i.jsx)(H,{title:"Cancellation Policy",icon:A.Z,className:"border-b-0 pb-0",children:(0,i.jsx)("p",{children:o.cancellation_policy||"Contact provider for cancellation details."})})]})]}),(0,i.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,i.jsxs)("div",{className:"".concat(q," sticky top-24 shadow-xl"),children:[" ",(0,i.jsx)("h3",{className:"text-xl font-semibold ".concat(F," mb-1.5"),children:"Price"}),(0,i.jsx)("p",{className:"text-3xl font-bold ".concat(F," mb-0.5"),children:o.price_numeric?"₹".concat(o.price_numeric.toLocaleString("en-IN")):o.price_details||"Contact"}),(0,i.jsx)("p",{className:"text-xs ".concat(P," mb-4"),children:o.price_numeric?"per person (approx)":"(contact for details)"}),(0,i.jsxs)("div",{className:"my-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-date",className:"block text-xs font-medium ".concat(P," mb-1"),children:"Select Date"}),(0,i.jsx)("input",{type:"date",id:"activity-date",name:"activity-date",className:"mt-1 block w-full py-2 px-3 border ".concat(R," bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[").concat(L,"] focus:border-[").concat(L,"] text-sm ").concat(F)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-guests",className:"block text-xs font-medium ".concat(P," mb-1"),children:"Number of Guests"}),(0,i.jsx)("input",{type:"number",id:"activity-guests",name:"activity-guests",defaultValue:"1",min:"1",className:"mt-1 block w-full py-2 px-3 border ".concat(R," bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[").concat(L,"] focus:border-[").concat(L,"] text-sm ").concat(F)})]})]}),(0,i.jsx)("button",{type:"button",className:"".concat(I," w-full"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Activity"}),(0,i.jsx)("p",{className:"text-xs ".concat(P," mt-2.5 text-center"),children:"Secure your spot! This activity is popular."}),o.provider&&(0,i.jsxs)("div",{className:"mt-6 pt-6 border-t ".concat(S),children:[(0,i.jsxs)("h4",{className:"text-md font-semibold ".concat(F," mb-2 flex items-center"),children:[(0,i.jsx)(D.Z,{size:18,className:"mr-2 ".concat(U)}),"Service Provider"]}),(0,i.jsx)("p",{className:"text-sm font-medium ".concat(F),children:o.provider.business_name})]})]})})]})]})]})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});var i=s(2265);function a(e,t){let s=(0,i.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[a,n]=(0,i.useState)({data:null,error:null,status:"idle"}),c=(0,i.useRef)(e),r=(0,i.useRef)(t);JSON.stringify(r.current)!==JSON.stringify(t)&&(r.current=t);let l=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",l.current),c.current===e&&null!==e&&!l.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}l.current=!1,c.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),n({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),n({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let i=await fetch(s,{...r.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",i.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await i.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(i.status," and non-JSON response."))}if(!i.ok){let s=(null==t?void 0:t.message)||i.statusText||"HTTP error! Status: ".concat(i.status);throw console.warn("[useFetch] Response not OK. Status:",i.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),n({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),n({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),n({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:a.status}),{data:a.data,error:a.error,status:a.status,isLoading:"loading"===a.status}}}},function(e){e.O(0,[2972,5963,2971,2117,1744],function(){return e(e.s=7022)}),_N_E=e.O()}]);