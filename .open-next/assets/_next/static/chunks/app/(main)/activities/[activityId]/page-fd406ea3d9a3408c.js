(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{97022:function(e,t,s){Promise.resolve().then(s.bind(s,66348))},39763:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let s=(0,i.forwardRef)((s,a)=>{let{color:c="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...h}=s;return(0,i.createElement)("svg",{ref:a,...n,width:l,height:l,stroke:c,strokeWidth:d?24*Number(o)/Number(l):o,className:["lucide","lucide-".concat(r(e)),u].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},63639:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},60044:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},88501:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},65302:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92451:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},91723:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3974:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]])},33245:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},59934:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]])},83774:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},77877:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},84286:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},82023:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},86595:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},85929:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},37806:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},45131:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var i=s(72972),n=s.n(i)},99376:function(e,t,s){"use strict";var i=s(35475);s.o(i,"useParams")&&s.d(t,{useParams:function(){return i.useParams}}),s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}}),s.o(i,"useSearchParams")&&s.d(t,{useSearchParams:function(){return i.useSearchParams}})},66348:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var i=s(57437),n=s(2265),r=s(99376),a=s(27648),c=s(33145),l=s(29889),o=s(63639),d=s(92451),u=s(83774),m=s(91723),h=s(86595),p=s(39763);let g=(0,p.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var y=s(3974),f=s(33245),x=s(82023),v=s(95805),b=s(37806),j=s(59934);let k=(0,p.Z)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);var N=s(77877),w=s(85929),_=s(65302),S=s(45131),Z=s(88501),L=s(84286),R=s(60044);let M="bg-gray-800",A="border-gray-100",z="border-gray-200",U="text-gray-800",D="text-gray-600",F="text-gray-600",E="py-10 md:py-12",P="bg-white rounded-2xl shadow-lg border ".concat(A," p-6 transition-shadow hover:shadow-xl"),C="text-lg font-semibold ".concat(U," mb-3 flex items-center"),q="inline-flex items-center justify-center ".concat(M," ").concat("hover:bg-gray-900"," ").concat("text-white"," px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800"),O="inline-flex items-center justify-center ".concat("bg-white"," ").concat("hover:bg-gray-100"," ").concat("text-gray-700"," ").concat("border border-gray-300"," px-4 py-2 rounded-full font-medium transition-all duration-300 text-sm shadow-sm"),T=e=>{let{message:t="Loading activity details..."}=e;return(0,i.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center ".concat("bg-gray-50"," ").concat(E),children:[(0,i.jsx)(c.default,{src:"/images/loading.gif",alt:"Loading...",width:128,height:128,priority:!0,className:"mb-4"}),(0,i.jsx)("span",{className:"text-lg ".concat(U," font-semibold text-center"),children:t}),(0,i.jsx)("p",{className:"".concat(D," mt-1 text-center"),children:"Please wait a moment."})]})},I=e=>{let{message:t}=e;return(0,i.jsxs)("div",{className:"container mx-auto px-4 ".concat(E," text-center ").concat("bg-red-50"," rounded-2xl border ").concat("border-red-200"),children:[(0,i.jsx)(o.Z,{className:"h-12 w-12 ".concat("text-red-500"," mx-auto mb-4")}),(0,i.jsx)("p",{className:"text-xl font-semibold ".concat("text-red-700"),children:"Could Not Load Activity"}),(0,i.jsx)("p",{className:"".concat(D),children:t||"The activity details could not be retrieved. It might be unavailable or the link may be incorrect."}),(0,i.jsxs)(a.default,{href:"/activities",className:"mt-6 ".concat(O),children:[(0,i.jsx)(d.Z,{size:18,className:"mr-2"})," Back to Activities"]})]})},H=e=>{let{title:t,icon:s,children:n,className:r}=e;return(0,i.jsxs)("div",{className:"py-5 border-b ".concat(A," last:border-b-0 ").concat(r||""),children:[(0,i.jsxs)("h2",{className:C,children:[" ",s&&(0,i.jsx)(s,{size:20,className:"mr-2.5 ".concat(F)})," ",t]}),(0,i.jsx)("div",{className:"text-sm ".concat(D," leading-relaxed space-y-2"),children:n})]})};var B=()=>{var e,t,s;let o;let p=(0,r.useParams)().activityId,C="true"===(0,r.useSearchParams)().get("isAdminPreview"),[B,W]=(0,n.useState)(!1),[J,V]=(0,n.useState)({});console.log("\uD83D\uDD0D ActivityDetailPage: Loading activity with ID:",p);let G=C?"/api/admin/service_preview/".concat(p):"/api/services-main/".concat(p),{data:K,error:$,status:X}=(0,l.i)(p?G:null),Y="error"===X?$:null;console.log("\uD83D\uDD0D ActivityDetailPage: API Response:",JSON.stringify(K));let Q=null;if(K&&("data"in K&&K.data?Q=K.data:("name"in K||"type"in K&&K.type)&&(Q=K)),console.log("\uD83D\uDD0D ActivityDetailPage: Service Data:",JSON.stringify(Q)),Q&&("activity"===Q.service_category||Q.type&&"string"==typeof Q.type&&Q.type.startsWith("activity"))&&(o=Q),console.log("\uD83D\uDD0D ActivityDetailPage: Processed Activity:",o?"Valid":"Invalid or non-activity service"),"loading"===X)return(0,i.jsx)(T,{message:"Loading activity details..."});if(Y||!o)return(0,i.jsx)(I,{message:(null==Y?void 0:Y.message)||(null==K?void 0:K.message)||"Activity not found or invalid type."});let ee=(e=>{if(!e.amenities)return[];if("string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);if(t&&"object"==typeof t&&"general_amenities"in t&&Array.isArray(t.general_amenities))return t.general_amenities.map(String);if(Array.isArray(t))return t.map(String);return e.amenities.split(",").map(e=>e.trim()).filter(Boolean)}catch(t){return e.amenities.split(",").map(e=>e.trim()).filter(Boolean)}return Array.isArray(e.amenities)?e.amenities.map(String):[]})(o),et=e=>!e||"string"!=typeof e||""===e.trim()||["null","undefined"].includes(e.toLowerCase())?"/images/placeholder_service.jpg":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/images/".concat(e),es=et(null===(e=o.images)||void 0===e?void 0:e[0]),ei=(null!==(s=o.images)&&void 0!==s?s:[]).slice(1).map(et).filter(e=>"/images/placeholder_service.jpg"!==e),en=o.duration&&o.duration_unit?"".concat(o.duration," ").concat(o.duration_unit):o.duration?"".concat(o.duration," hours"):null,er=()=>{W(!0)},ea=e=>{V(t=>({...t,[e]:!0}))};return(0,i.jsxs)("div",{className:"bg-white min-h-screen",children:[" ",C&&(0,i.jsxs)("div",{className:"container mx-auto px-4 py-3 my-4 text-center bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg shadow",children:[(0,i.jsx)("p",{className:"font-semibold text-base",children:"ADMIN PREVIEW MODE"}),(0,i.jsx)("p",{className:"text-sm",children:"You are viewing this activity as an administrator. Approval status is shown below."})]}),(0,i.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40 border-b ".concat(A),children:(0,i.jsx)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:(0,i.jsxs)(a.default,{href:"/activities",className:O,children:[" ",(0,i.jsx)(d.Z,{size:18,className:"mr-1.5"}),"Back to Activities"]})})}),(0,i.jsxs)("div",{className:"container mx-auto px-4 ".concat(E),children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(U," mb-2"),children:[o.name,C&&void 0!==o.is_admin_approved&&(0,i.jsxs)("span",{className:"ml-3 text-sm align-middle font-medium px-2.5 py-0.5 rounded-full ".concat(o.is_admin_approved?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Status: ",o.is_admin_approved?"Approved":"Pending Approval"]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center text-sm ".concat(D," gap-x-4 gap-y-1.5"),children:[o.island_name&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(u.Z,{size:15,className:"mr-1.5 ".concat(F)})," ",o.island_name]}),en&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(m.Z,{size:15,className:"mr-1.5 ".concat(F)})," ",en]}),null!==o.rating&&"number"==typeof o.rating&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(h.Z,{size:15,className:"mr-1 text-yellow-400 fill-current"})," ",o.rating.toFixed(1),"/5.0"]}),o.difficulty_level&&(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsx)(g,{size:15,className:"mr-1.5 ".concat(F)}),o.difficulty_level.charAt(0).toUpperCase()+o.difficulty_level.slice(1)," Difficulty"]})]}),(null===(t=o.provider)||void 0===t?void 0:t.business_name)&&(0,i.jsxs)("p",{className:"text-sm ".concat(D," mt-2"),children:["Offered by: ",(0,i.jsx)("span",{className:"font-medium ".concat(U),children:o.provider.business_name})]})]}),(0,i.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-10",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[(0,i.jsxs)("div",{className:"mb-6 rounded-2xl overflow-hidden shadow-lg relative aspect-[16/10] border ".concat(A),children:[(0,i.jsx)(c.default,{src:es,alt:"Main image for ".concat(o.name),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null,er()},priority:!0,unoptimized:!0,sizes:"(max-width: 1024px) 100vw, 66vw",loading:"eager"}),B&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,i.jsx)(y.Z,{size:48,className:"".concat(F," opacity-50")})})]}),ei.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:ei.map((e,t)=>(0,i.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md aspect-square relative border ".concat(A),children:[(0,i.jsx)(c.default,{src:e,alt:"".concat(o.name," gallery image ").concat(t+1),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null,ea(t)},unoptimized:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw",loading:"lazy"}),J[t]&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,i.jsx)(y.Z,{size:32,className:"".concat(F," opacity-50")})})]},t))}),(0,i.jsxs)("div",{className:P,children:[(0,i.jsx)(H,{title:"About this Activity",icon:f.Z,children:(0,i.jsx)("p",{children:o.description||"Detailed description not available."})}),(0,i.jsx)(H,{title:"Activity Highlights",icon:x.Z,children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-3",children:[en&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(m.Z,{size:18,className:"mr-2 ".concat(F," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(U),children:"Duration"}),(0,i.jsx)("p",{children:en})]})]}),(o.group_size_min||o.group_size_max)&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(v.Z,{size:18,className:"mr-2 ".concat(F," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(U),children:"Group Size"}),(0,i.jsxs)("p",{children:[o.group_size_min&&o.group_size_max?"".concat(o.group_size_min," to ").concat(o.group_size_max):o.group_size_min?"Min ".concat(o.group_size_min):"Max ".concat(o.group_size_max)," people"]})]})]}),o.difficulty_level&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(g,{size:18,className:"mr-2 ".concat(F," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(U),children:"Difficulty"}),(0,i.jsx)("p",{children:o.difficulty_level.charAt(0).toUpperCase()+o.difficulty_level.slice(1)})]})]}),o.guide_required&&(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)(b.Z,{size:18,className:"mr-2 ".concat(F," mt-0.5 flex-shrink-0")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium ".concat(U),children:"Guide"}),(0,i.jsx)("p",{children:"Professional guide included"})]})]})]})}),o.equipment_provided&&o.equipment_provided.length>0&&(0,i.jsx)(H,{title:"Equipment Provided",icon:j.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(F),children:o.equipment_provided.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.safety_requirements&&(0,i.jsx)(H,{title:"Safety First",icon:k,children:(0,i.jsx)("p",{children:o.safety_requirements})}),ee.length>0&&(0,i.jsx)(H,{title:"General Amenities",icon:x.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(F),children:ee.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.location_details&&(0,i.jsxs)(H,{title:"Location & Meeting Point",icon:N.Z,children:[(0,i.jsx)("p",{children:o.location_details}),o.latitude&&o.longitude&&(0,i.jsxs)("a",{href:"https://maps.google.com/?q=".concat(o.latitude,",").concat(o.longitude),target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center text-sm ".concat(M," text-white hover:opacity-90 font-medium px-3 py-1.5 rounded-md"),children:["View on Map ",(0,i.jsx)(u.Z,{size:14,className:"ml-1.5"})]})]}),o.what_to_bring&&o.what_to_bring.length>0&&(0,i.jsx)(H,{title:"What to Bring",icon:w.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(F),children:o.what_to_bring.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.included_services&&o.included_services.length>0&&(0,i.jsx)(H,{title:"What's Included",icon:_.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(F),children:o.included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.not_included_services&&o.not_included_services.length>0&&(0,i.jsx)(H,{title:"What's Not Included",icon:S.Z,children:(0,i.jsx)("ul",{className:"list-disc list-inside grid grid-cols-1 sm:grid-cols-2 gap-x-4 marker:".concat(F),children:o.not_included_services.map((e,t)=>(0,i.jsx)("li",{children:e},t))})}),o.availability_summary&&"string"==typeof o.availability_summary&&(0,i.jsx)(H,{title:"Availability Notes",icon:Z.Z,children:(()=>{try{let e=JSON.parse(o.availability_summary);if(e&&"object"==typeof e){let t=Array.isArray(e.days)?e.days.join(", "):null,s="string"==typeof e.notes?e.notes:null;if(t||s)return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)("p",{className:"font-medium ".concat(U," mb-1"),children:["Available on: ",t]}),s&&(0,i.jsx)("p",{children:s})]})}}catch(e){console.warn("Failed to parse availability_summary JSON:",e)}return(0,i.jsx)("p",{children:o.availability_summary})})()}),(0,i.jsx)(H,{title:"Cancellation Policy",icon:L.Z,className:"border-b-0 pb-0",children:(0,i.jsx)("p",{children:o.cancellation_policy||"Contact provider for cancellation details."})})]})]}),(0,i.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,i.jsxs)("div",{className:"".concat(P," sticky top-24 shadow-xl"),children:[" ",(0,i.jsx)("h3",{className:"text-xl font-semibold ".concat(U," mb-1.5"),children:"Price"}),(0,i.jsx)("p",{className:"text-3xl font-bold ".concat(U," mb-0.5"),children:o.price_numeric?"₹".concat(o.price_numeric.toLocaleString("en-IN")):o.price_details||"Contact"}),(0,i.jsx)("p",{className:"text-xs ".concat(D," mb-4"),children:o.price_numeric?"per person (approx)":"(contact for details)"}),(0,i.jsxs)("div",{className:"my-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-date",className:"block text-xs font-medium ".concat(D," mb-1"),children:"Select Date"}),(0,i.jsx)("input",{type:"date",id:"activity-date",name:"activity-date",className:"mt-1 block w-full py-2 px-3 border ".concat(z," bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[").concat(M,"] focus:border-[").concat(M,"] text-sm ").concat(U)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"activity-guests",className:"block text-xs font-medium ".concat(D," mb-1"),children:"Number of Guests"}),(0,i.jsx)("input",{type:"number",id:"activity-guests",name:"activity-guests",defaultValue:"1",min:"1",className:"mt-1 block w-full py-2 px-3 border ".concat(z," bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[").concat(M,"] focus:border-[").concat(M,"] text-sm ").concat(U)})]})]}),(0,i.jsx)("button",{type:"button",className:"".concat(q," w-full"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book This Activity"}),(0,i.jsx)("p",{className:"text-xs ".concat(D," mt-2.5 text-center"),children:"Secure your spot! This activity is popular."}),o.provider&&(0,i.jsxs)("div",{className:"mt-6 pt-6 border-t ".concat(A),children:[(0,i.jsxs)("h4",{className:"text-md font-semibold ".concat(U," mb-2 flex items-center"),children:[(0,i.jsx)(R.Z,{size:18,className:"mr-2 ".concat(F)}),"Service Provider"]}),(0,i.jsx)("p",{className:"text-sm font-medium ".concat(U),children:o.provider.business_name})]})]})})]})]})]})}},29889:function(e,t,s){"use strict";s.d(t,{i:function(){return n},q:function(){return r}});var i=s(2265);function n(e,t){let s=(0,i.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[n,r]=(0,i.useState)({data:null,error:null,status:"idle"}),a=(0,i.useRef)(e),c=(0,i.useRef)(t);JSON.stringify(c.current)!==JSON.stringify(t)&&(c.current=t);let l=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",l.current),a.current===e&&null!==e&&!l.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}l.current=!1,a.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),r({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),r({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let i=await fetch(s,{...c.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",i.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await i.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(i.status," and non-JSON response."))}if(!i.ok){let s=(null==t?void 0:t.message)||i.statusText||"HTTP error! Status: ".concat(i.status);throw console.warn("[useFetch] Response not OK. Status:",i.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),r({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),r({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),r({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:n.status}),{data:n.data,error:n.error,status:n.status,isLoading:"loading"===n.status}}function r(e){let t=(0,i.useRef)(!0);t.current&&(console.log("[useSubmit] Hook initialized. Initial URL:",e),t.current=!1);let[s,n]=(0,i.useState)(null),[r,a]=(0,i.useState)(null),[c,l]=(0,i.useState)("idle");return{submit:async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",i=arguments.length>2?arguments[2]:void 0,r=i||e;if(console.log("[useSubmit] submit function called. Target URL:",r,"Method:",s),l("loading"),n(null),a(null),!r)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),a(Error("No URL specified for submission.")),l("error"),{success:!1,error:"No URL specified for submission."};try{let e;let i={method:s,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==s?JSON.stringify(t):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",r);let a=await fetch(r,i);console.log("[useSubmit] Fetch completed. URL:",r,"Status:",a.status);try{console.log("[useSubmit] Attempting response.json(). URL:",r),204===a.status||"0"===a.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await a.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",r)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",r,"Error:",e),Error("Request failed with status ".concat(a.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",r),a.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",r),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",r),n(e.data),l("success"),{success:!0,data:e.data};return n(null),l("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(r)),{success:!0,data:null}}{let t=e.message||"API Error: Status ".concat(a.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",r,"Throwing error:",t),Error(t)}}catch(t){console.error("[useSubmit] CATCH block error. URL:",r,"Error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",r),a(Error(e)),l("error"),{success:!1,error:e}}},data:s,error:r,status:c,isLoading:"loading"===c,reset:()=>{console.log("[useSubmit] reset function called."),n(null),a(null),l("idle")}}}}},function(e){e.O(0,[2972,3145,2971,2117,1744],function(){return e(e.s=97022)}),_N_E=e.O()}]);