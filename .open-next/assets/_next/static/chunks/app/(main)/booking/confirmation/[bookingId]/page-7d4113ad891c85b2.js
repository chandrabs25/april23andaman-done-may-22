(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{422:function(e,t,n){Promise.resolve().then(n.bind(n,3508))},9763:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var c=n(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let n=(0,c.forwardRef)((n,r)=>{let{color:o="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:m,...x}=n;return(0,c.createElement)("svg",{ref:r,...a,width:i,height:i,stroke:o,strokeWidth:u?24*Number(l)/Number(i):l,className:["lucide","lucide-".concat(s(e)),d].join(" "),...x},[...t.map(e=>{let[t,n]=e;return(0,c.createElement)(t,n)}),...Array.isArray(m)?m:[m]])});return n.displayName="".concat(e),n}},3639:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2660:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8501:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8226:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8736:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},3245:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},2062:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},5863:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2720:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},5805:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5131:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let c=(0,n(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var c=n(2972),a=n.n(c)},9376:function(e,t,n){"use strict";var c=n(5475);n.o(c,"useParams")&&n.d(t,{useParams:function(){return c.useParams}}),n.o(c,"usePathname")&&n.d(t,{usePathname:function(){return c.usePathname}}),n.o(c,"useRouter")&&n.d(t,{useRouter:function(){return c.useRouter}}),n.o(c,"useSearchParams")&&n.d(t,{useSearchParams:function(){return c.useSearchParams}})},3508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A},dynamic:function(){return w}});var c=n(7437),a=n(2265),s=n(9376),r=n(7648),o=n(5863),i=n(3639),l=n(2660),u=n(3245),d=n(5302),m=n(5131),x=n(4794),h=n(2720),f=n(8501),y=n(5805),p=n(2062),g=n(8226),b=n(8736),k=n(9763);let N=(0,k.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),j=(0,k.Z)("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var v=n(5960);let w="force-dynamic",Z=e=>{let{message:t="Loading booking confirmation..."}=e;return(0,c.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center ".concat(v.Cx," ").concat(v.dI," p-4"),children:[(0,c.jsx)(o.Z,{className:"h-16 w-16 animate-spin ".concat(v.O9," mb-5")}),(0,c.jsx)("span",{className:"text-xl ".concat(v.Wx," font-semibold text-center"),children:t}),(0,c.jsx)("p",{className:"".concat(v.tM," mt-1"),children:"Please wait a moment."})]})},M=e=>{let{title:t="Error",message:n,showBackButton:a=!0,backHref:s="/packages"}=e;return(0,c.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 ".concat(v.dI," ").concat(v.AD," border ").concat(v.qB," rounded-2xl m-4 md:m-8"),children:[(0,c.jsx)(i.Z,{className:"h-20 w-20 ".concat(v.kq," mb-6")}),(0,c.jsx)("h2",{className:"text-3xl font-semibold ".concat(v.Mx," mb-4"),children:t}),(0,c.jsx)("p",{className:"".concat(v.tM," mb-8 max-w-md"),children:n}),a&&(0,c.jsxs)(r.default,{href:s,className:"".concat(v.zi," bg-red-600 hover:bg-red-700 focus:ring-red-500"),children:[(0,c.jsx)(l.Z,{size:20,className:"mr-2"})," Back"]})]})};function I(){var e,t,n,r;let o=(0,s.useParams)().bookingId,[l,k]=(0,a.useState)(null),[w,I]=(0,a.useState)(!0),[A,q]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if(!o){q("Booking ID is missing from the URL."),I(!1);return}(async()=>{I(!0),q(null);try{let e=await fetch("/api/bookings/".concat(o));if(!e.ok){let t="Error: ".concat(e.status);try{let n=await e.json();t=(null==n?void 0:n.message)||t}catch(e){}throw Error(t)}let t=await e.json();k(t)}catch(e){console.error("Fetch booking error:",e),q(e.message||"An unexpected error occurred while fetching booking details."),k(null)}I(!1)})()},[o]),w)return(0,c.jsx)(Z,{});if(A)return(0,c.jsx)(M,{title:"Booking Retrieval Failed",message:A,backHref:"/user/bookings"});if(!l)return(0,c.jsx)(M,{title:"Booking Not Found",message:"We could not find a booking with the ID: ".concat(o,". Please check the ID or contact support."),backHref:"/user/bookings"});let P=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",S=l.totalAmount?(l.totalAmount/100).toLocaleString("en-IN",{style:"currency",currency:"INR"}):"N/A",D="Booking Status",z="",E=u.Z,C=v.O9,B=v.Wx,L=v.l8,O=v.x7;return"CONFIRMED"===l.status&&"PAID"===l.paymentStatus?(D="Booking Confirmed!",z="Thank you! Your payment was successful and your booking is confirmed. A confirmation email with all details has been sent to your registered email address.",E=d.Z,C=v.eB,B=v.IW,L=v.Bc,O=v.MP):"FAILED"===l.status||"FAILED"===l.paymentStatus?(D="FAILED"===l.paymentStatus?"Payment Failed":"Booking Failed",z="Unfortunately, we could not complete your booking (ID: ".concat(l.id,"). "),"FAILED"===l.paymentStatus&&(z+="The payment could not be processed. "),z+="Please try booking again or contact our support team if the issue persists.",E=m.Z,C=v.kq,B=v.Mx,L=v.AD,O=v.qB):"PENDING_PAYMENT"===l.status||"INITIATED"===l.paymentStatus||"PENDING"===l.paymentStatus?(D="Booking Payment Pending",z="Your payment for booking ID ".concat(l.id," is still being processed or is pending confirmation. Please check back shortly. We will also notify you once the status is updated. If you have already completed the payment and this status persists, please contact support."),E=i.Z,C=v.ER,B=v.v4,L=v.Yc,O=v.$j):z="Current status for booking ID ".concat(l.id,": Booking Status - ").concat(l.status,", Payment Status - ").concat(l.paymentStatus,". If you have any questions, please contact support."),(0,c.jsx)("div",{className:"".concat(v.Cx," min-h-screen ").concat(v.dI),children:(0,c.jsx)("div",{className:"container mx-auto px-4 max-w-3xl",children:(0,c.jsxs)("div",{className:"".concat(v.JB," ").concat(L," border-2 ").concat(O," p-0 shadow-xl"),children:[(0,c.jsxs)("div",{className:"p-6 md:p-8 text-center",children:[(0,c.jsx)(E,{size:72,className:"mb-5 mx-auto ".concat(C)}),(0,c.jsx)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(B," mb-4"),children:D}),(0,c.jsx)("p",{className:"".concat(v.qf," text-base md:text-lg mb-6"),children:z})]}),(0,c.jsxs)("div",{className:"bg-white p-6 md:p-8 border-t-2 ".concat(O," space-y-6"),children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between pb-4 border-b ".concat(v.J),children:[(0,c.jsx)("h2",{className:"".concat(v.ME," text-xl md:text-2xl mb-0 sm:mb-0"),children:"Booking Summary"}),(0,c.jsxs)("p",{className:"".concat(v.tM," text-sm"),children:["ID: ",(0,c.jsxs)("span",{className:"font-semibold ".concat(v.qf),children:["#",l.id]})]})]}),(0,c.jsxs)("section",{children:[(0,c.jsxs)("h3",{className:"text-lg font-semibold ".concat(v.qf," mb-2 flex items-center"),children:[(0,c.jsx)(x.Z,{size:20,className:"mr-2 ".concat(v.O9)}),"Package Details"]}),(0,c.jsxs)("div",{className:"".concat(v.nd," p-4 rounded-lg border ").concat(v.qc," text-sm"),children:[(0,c.jsx)("p",{className:"font-medium ".concat(v.qf),children:(null===(e=l.package)||void 0===e?void 0:e.name)||"Package Name Not Available"}),(0,c.jsxs)("p",{className:"".concat(v.tM," flex items-center mt-1"),children:[(0,c.jsx)(h.Z,{size:16,className:"mr-1.5 ".concat(v.O9)})," ",(null===(t=l.packageCategory)||void 0===t?void 0:t.name)||"Category Not Available"]})]})]}),(0,c.jsxs)("section",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-sm md:text-base",children:[(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(f.Z,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Travel Dates:"}),(0,c.jsxs)("span",{className:"ml-1.5 ".concat(v.tM),children:[P(l.startDate)," - ",P(l.endDate)]})]}),(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(y.Z,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Travelers:"}),(0,c.jsx)("span",{className:"ml-1.5 ".concat(v.tM),children:l.totalPeople||"N/A"})]}),(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(p.Z,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Total Amount:"}),(0,c.jsx)("span",{className:"ml-1.5 font-semibold ".concat(v.IW),children:S})]}),(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)(g.Z,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Payment Status:"}),(0,c.jsx)("span",{className:"ml-1.5 font-semibold ".concat("PAID"===l.paymentStatus?v.IW:v.v4),children:l.paymentStatus||"N/A"})]}),l.phonepeTransactionId&&(0,c.jsxs)("div",{className:"sm:col-span-2 flex items-start",children:[(0,c.jsx)(b.Z,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Payment ID:"}),(0,c.jsx)("span",{className:"ml-1.5 ".concat(v.tM),children:l.phonepeTransactionId})]}),(0,c.jsxs)("div",{className:"sm:col-span-2 flex items-start",children:[(0,c.jsx)(N,{size:18,className:"mr-2.5 mt-0.5 ".concat(v.O9)})," ",(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Booking Status:"}),(0,c.jsx)("span",{className:"ml-1.5 font-semibold ".concat("CONFIRMED"===l.status?v.IW:v.v4),children:l.status||"N/A"})]})]}),(0,c.jsxs)("section",{className:"pt-4 border-t ".concat(v.J),children:[(0,c.jsxs)("h3",{className:"text-lg font-semibold ".concat(v.qf," mb-2 flex items-center"),children:[(0,c.jsx)(j,{size:20,className:"mr-2 ".concat(v.O9)}),"Guest Information"]}),(0,c.jsxs)("div",{className:"space-y-1 text-sm ".concat(v.tM),children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Name:"})," ",(null===(n=l.user)||void 0===n?void 0:n.name)||l.guestName||"N/A"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Email:"})," ",(null===(r=l.user)||void 0===r?void 0:r.email)||l.guestEmail||"N/A"]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{className:"".concat(v.qf),children:"Phone:"})," ",l.guestPhone||"N/A"]})]})]}),l.specialRequests&&(0,c.jsxs)("section",{className:"pt-4 border-t ".concat(v.J),children:[(0,c.jsxs)("h3",{className:"text-lg font-semibold ".concat(v.qf," mb-2 flex items-center"),children:[(0,c.jsx)(u.Z,{size:18,className:"mr-2 ".concat(v.O9)}),"Special Requests"]}),(0,c.jsx)("p",{className:"text-sm ".concat(v.tM," ").concat(v.nd," p-3 rounded-md border ").concat(v.qc," whitespace-pre-line"),children:l.specialRequests})]}),(0,c.jsxs)("div",{className:"mt-6 text-xs ".concat(v.tM," text-center border-t ").concat(v.J," pt-4"),children:["Booked on: ",new Date(l.createdAt).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})]})]})]})})})}function A(){return(0,c.jsx)("div",{className:"".concat(v.Cx," min-h-screen"),children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(Z,{message:"Initializing booking confirmation..."}),children:(0,c.jsx)(I,{})})})}},5960:function(e,t,n){"use strict";n.d(t,{$j:function(){return h},AD:function(){return N},Bc:function(){return l},Cx:function(){return Z},ER:function(){return y},IW:function(){return d},J:function(){return M},JB:function(){return E},ME:function(){return z},MP:function(){return u},Mx:function(){return v},O9:function(){return i},UX:function(){return R},Wl:function(){return k},Wx:function(){return o},X2:function(){return H},Yc:function(){return x},dI:function(){return D},dS:function(){return O},eB:function(){return m},ft:function(){return p},hc:function(){return b},kq:function(){return w},l8:function(){return s},m$:function(){return g},mT:function(){return W},nd:function(){return I},o5:function(){return c},oW:function(){return B},pb:function(){return L},qB:function(){return j},qc:function(){return A},qf:function(){return q},rW:function(){return T},si:function(){return J},tA:function(){return F},tM:function(){return P},v4:function(){return f},x7:function(){return r},xb:function(){return S},zi:function(){return C}});let c="bg-gray-800",a="text-white",s="bg-blue-50",r="border-blue-100",o="text-blue-800",i="text-blue-600",l="bg-green-50",u="border-green-100",d="text-green-800",m="text-green-600",x="bg-orange-50",h="border-orange-100",f="text-orange-800",y="text-orange-600",p="bg-yellow-50",g="border-yellow-100",b="text-yellow-800",k="text-yellow-700",N="bg-red-50",j="border-red-200",v="text-red-700",w="text-red-500",Z="bg-gray-50",M="border-gray-100",I="bg-gray-100",A="border-gray-200",q="text-gray-800",P="text-gray-600",S="text-gray-600",D="py-10 md:py-12",z="text-2xl font-bold ".concat(q," mb-6 flex items-center"),E="bg-white rounded-2xl shadow-sm border ".concat(M," p-6 transition-shadow hover:shadow-md"),C="inline-flex items-center justify-center ".concat(c," ").concat("hover:bg-gray-900"," ").concat(a," px-6 py-3 rounded-full font-medium transition-all duration-300 shadow-md"),B="inline-flex items-center justify-center ".concat("bg-white/20 backdrop-blur-sm"," ").concat("hover:bg-white/30"," ").concat("text-white"," ").concat("border border-white/40"," px-6 py-3 rounded-full font-medium transition-all duration-300");"".concat(s," rounded-2xl p-6 shadow-sm border ").concat(r),"".concat(x," rounded-2xl p-6 shadow-sm border ").concat(h),"".concat(l," rounded-2xl p-6 shadow-sm border ").concat(u),"".concat(p," rounded-2xl p-6 shadow-sm border ").concat(g);let L="bg-white p-2 rounded-full shadow-sm mr-3 border ".concat(M),O="flex items-center",R="hover:text-white",W="mx-1";"".concat(I," p-1 rounded-full inline-flex border ").concat(A),"".concat(c," ").concat(a," shadow-sm");let T="relative h-[50vh] w-full rounded-2xl overflow-hidden shadow-lg mb-4 border ".concat(M),F="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent",H="w-full px-4 py-3 rounded-lg border ".concat(A," bg-white ").concat(q," placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"),J="block text-sm font-medium ".concat(q," mb-2")}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=422)}),_N_E=e.O()}]);