(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{4415:function(e,t,s){Promise.resolve().then(s.bind(s,3508))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,n.forwardRef)((s,i)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:u,...x}=s;return(0,n.createElement)("svg",{ref:i,...a,width:c,height:c,stroke:l,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),m].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8501:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8226:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},2062:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2720:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5131:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var n=s(2972),a=s.n(n)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},3508:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I},dynamic:function(){return v}});var n=s(7437),a=s(2265),r=s(9376),i=s(7648),l=s(5863),c=s(3639),o=s(2660),d=s(3245),m=s(5302),u=s(5131),x=s(4794),h=s(2720),y=s(8501),p=s(5805),g=s(2062),f=s(8226),k=s(8736),b=s(9763);let j=(0,b.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),N=(0,b.Z)("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),v="force-dynamic",w=e=>{let{message:t="Loading booking confirmation..."}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[(0,n.jsx)(l.Z,{className:"h-12 w-12 animate-spin text-blue-600 mb-4"}),(0,n.jsx)("span",{className:"text-lg text-gray-700 text-center",children:t})]})},Z=e=>{let{title:t="Error",message:s,showBackButton:a=!0,backHref:r="/packages"}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10 bg-gray-50",children:[(0,n.jsx)(c.Z,{className:"h-16 w-16 text-red-500 mb-6"}),(0,n.jsx)("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:t}),(0,n.jsx)("p",{className:"text-gray-600 mb-8 max-w-md",children:s}),a&&(0,n.jsxs)(i.default,{href:r,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium inline-flex items-center",children:[(0,n.jsx)(o.Z,{size:20,className:"mr-2"})," Back"]})]})};function A(){var e,t,s,l;let b=(0,r.useParams)().bookingId,[v,A]=(0,a.useState)(null),[I,P]=(0,a.useState)(!0),[S,z]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if(!b){z("Booking ID is missing from the URL."),P(!1);return}(async()=>{P(!0),z(null),console.log("INFO: An API endpoint at /api/bookings/[bookingId] is required to fetch booking details for this client component.");try{let e=await fetch("/api/bookings/".concat(b));if(!e.ok){let t="Error: ".concat(e.status);try{let s=await e.json();t=(null==s?void 0:s.message)||t}catch(e){}throw Error(t)}let t=await e.json();console.log("Fetched booking data:",t),A(t)}catch(e){console.error("Fetch booking error:",e),z(e.message||"An unexpected error occurred while fetching booking details."),A(null)}P(!1)})()},[b]),I)return(0,n.jsx)(w,{});if(S)return(0,n.jsx)(Z,{title:"Booking Retrieval Failed",message:S,backHref:"/user/bookings"});if(!v)return(0,n.jsx)(Z,{title:"Booking Not Found",message:"We could not find a booking with the ID: ".concat(b,". Please check the ID or contact support."),backHref:"/user/bookings"});let D=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",M=v.totalAmount?(v.totalAmount/100).toLocaleString("en-IN",{style:"currency",currency:"INR"}):"N/A",E="Booking Status",C="",L=(0,n.jsx)(d.Z,{size:30,className:"mr-3 text-blue-600"}),B="bg-white rounded-xl shadow-xl overflow-hidden";return"CONFIRMED"===v.status&&"PAID"===v.paymentStatus?(E="Booking Confirmed!",C="Thank you! Your payment was successful and your booking is confirmed.",L=(0,n.jsx)(m.Z,{size:30,className:"mr-3 text-green-600"}),B="bg-green-50 rounded-xl shadow-xl overflow-hidden border border-green-200"):"FAILED"===v.status||"FAILED"===v.paymentStatus?(E="FAILED"===v.paymentStatus?"Payment Failed":"Booking Failed",C="Unfortunately, we could not complete your booking (ID: ".concat(v.id,"). "),"FAILED"===v.paymentStatus&&(C+="The payment could not be processed. "),C+="Please try booking again or contact our support team if the issue persists.",L=(0,n.jsx)(u.Z,{size:30,className:"mr-3 text-red-600"}),B="bg-red-50 rounded-xl shadow-xl overflow-hidden border border-red-200"):"PENDING_PAYMENT"===v.status||"INITIATED"===v.paymentStatus||"PENDING"===v.paymentStatus?(E="Booking Payment Pending",C="Your payment for booking ID ".concat(v.id," is still being processed or is pending confirmation. Please check back shortly. We will also notify you once the status is updated. If you have already completed the payment and this status persists, please contact support."),L=(0,n.jsx)(c.Z,{size:30,className:"mr-3 text-yellow-600"}),B="bg-yellow-50 rounded-xl shadow-xl overflow-hidden border border-yellow-200"):C="Current status for booking ID ".concat(v.id,": Booking Status - ").concat(v.status,", Payment Status - ").concat(v.paymentStatus,". If you have any questions, please contact support."),(0,n.jsx)("div",{className:"bg-gray-100 min-h-screen py-8 md:py-12 font-sans",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 max-w-3xl",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)(i.default,{href:"/user/bookings",className:"text-blue-600 hover:text-blue-700 inline-flex items-center transition-colors group",children:[(0,n.jsx)(o.Z,{size:18,className:"mr-2 transition-transform group-hover:-translate-x-1"}),"Back to My Bookings"]})}),(0,n.jsx)("div",{className:B,children:(0,n.jsxs)("div",{className:"p-6 md:p-8",children:[" ",(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 pb-4 border-b",children:[(0,n.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center mb-2 sm:mb-0",children:[L," ",E]}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Booking ID: ",(0,n.jsxs)("span",{className:"font-semibold text-gray-700",children:["#",v.id]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-700",children:C}),(0,n.jsxs)("section",{className:"pt-2",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 flex items-center",children:[(0,n.jsx)(x.Z,{size:20,className:"mr-2 text-blue-500"}),"Package Details"]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md border text-sm",children:[(0,n.jsx)("p",{className:"font-medium text-gray-700",children:(null===(e=v.package)||void 0===e?void 0:e.name)||"Package Name Not Available"}),(0,n.jsxs)("p",{className:"text-gray-600 flex items-center mt-1",children:[(0,n.jsx)(h.Z,{size:15,className:"mr-1.5 text-blue-400"})," ",(null===(t=v.packageCategory)||void 0===t?void 0:t.name)||"Category Not Available"]})]})]}),(0,n.jsxs)("section",{className:"pt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(y.Z,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Travel Dates:"}),(0,n.jsxs)("span",{className:"ml-1.5",children:[D(v.startDate)," - ",D(v.endDate)]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(p.Z,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Travelers:"}),(0,n.jsx)("span",{className:"ml-1.5",children:v.totalPeople||"N/A"})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(g.Z,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Total Amount:"}),(0,n.jsx)("span",{className:"ml-1.5 font-semibold",children:M})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(f.Z,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Payment Status:"}),(0,n.jsx)("span",{className:"ml-1.5 font-semibold ".concat("PAID"===v.paymentStatus?"text-green-600":"text-orange-500"),children:v.paymentStatus||"N/A"})]}),v.phonepeTransactionId&&(0,n.jsxs)("div",{className:"flex items-center sm:col-span-2",children:[(0,n.jsx)(k.Z,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Payment ID:"}),(0,n.jsx)("span",{className:"ml-1.5",children:v.phonepeTransactionId})]}),(0,n.jsxs)("div",{className:"sm:col-span-2 flex items-center",children:[(0,n.jsx)(j,{size:17,className:"mr-2 text-gray-500"}),(0,n.jsx)("strong",{children:"Booking Status:"}),(0,n.jsx)("span",{className:"ml-1.5",children:v.status||"N/A"})]})]}),(0,n.jsxs)("section",{className:"pt-3 border-t",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 flex items-center",children:[(0,n.jsx)(N,{size:20,className:"mr-2 text-blue-500"}),"Guest Information"]}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Name:"})," ",(null===(s=v.user)||void 0===s?void 0:s.name)||v.guestName||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",(null===(l=v.user)||void 0===l?void 0:l.email)||v.guestEmail||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Phone:"})," ",v.guestPhone||"N/A"]})]})]}),v.specialRequests&&(0,n.jsxs)("section",{className:"pt-3 border-t",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 flex items-center",children:[(0,n.jsx)(k.Z,{size:18,className:"mr-2 text-blue-500"}),"Special Requests"]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-md border whitespace-pre-line",children:v.specialRequests})]})]}),(0,n.jsx)("div",{className:"mt-8 pt-6 border-t text-center"}),(0,n.jsxs)("div",{className:"mt-6 text-xs text-gray-500 text-center border-t pt-3",children:["Booked on: ",new Date(v.createdAt).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})]})]})})]})})}function I(){return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(w,{message:"Initializing booking confirmation..."}),children:(0,n.jsx)(A,{})})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=4415)}),_N_E=e.O()}]);