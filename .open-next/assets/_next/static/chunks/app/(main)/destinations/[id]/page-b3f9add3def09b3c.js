(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8270],{40382:function(e,t,s){Promise.resolve().then(s.bind(s,27770))},39763:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:h,...m}=s;return(0,r.createElement)("svg",{ref:l,...a,width:c,height:c,stroke:i,strokeWidth:u?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),d].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},63639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},33245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},83774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(72972),a=s.n(r)},99376:function(e,t,s){"use strict";var r=s(35475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},27770:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(57437),a=s(2265),n=s(99376),l=s(33145),i=s(27648),c=s(63639),o=s(83774),u=s(33245),d=s(29889);let h=()=>(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[(0,r.jsx)(l.default,{src:"/images/loading.gif",alt:"Loading...",width:128,height:128,priority:!0,className:"mb-4"}),(0,r.jsx)("span",{className:"text-lg text-gray-800 font-semibold",children:"Loading destination..."}),(0,r.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Please wait a moment."})]});function m(){var e,t;let s=(0,n.useParams)().id,{data:a,error:m,status:x}=(0,d.i)(s?"/api/destinations/".concat(s):null),g=(null==a?void 0:null===(t=a.images)||void 0===t?void 0:null===(e=t.split(",")[0])||void 0===e?void 0:e.trim())||"/images/placeholder.jpg",f=[];if(null==a?void 0:a.attractions)try{f=JSON.parse(a.attractions)}catch(e){f=a.attractions.split(",").map(e=>e.trim()).filter(e=>e)}let p=[];if(null==a?void 0:a.activities)try{p=JSON.parse(a.activities)}catch(e){p=a.activities.split(",").map(e=>e.trim()).filter(e=>e)}let b=(null==a?void 0:a.bestTimeToVisit)||"October to May",j=(null==a?void 0:a.howToReach)||"Varies (Ferry/Flight)";return"loading"===x?(0,r.jsx)(h,{}):"error"===x?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,r.jsx)(c.Z,{className:"h-12 w-12 text-red-500 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-red-600 mb-4",children:"Error Loading Destination"}),(0,r.jsx)("p",{className:"text-gray-700 mb-6",children:(null==m?void 0:m.message)||"Could not fetch destination details."}),(0,r.jsx)(i.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]}):"success"!==x||a?a?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsxs)("div",{className:"relative h-[50vh] w-full",children:[(0,r.jsx)(l.default,{src:g,alt:a.name,fill:!0,style:{objectFit:"cover"},priority:!0,onError:e=>e.currentTarget.src="/images/placeholder.jpg"}),(0,r.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:[" ",(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white text-center px-4",children:a.name})," "]})]}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["About ",a.name]}),(0,r.jsxs)("p",{className:"text-gray-700 mb-6 whitespace-pre-line",children:[" ",a.description||"No detailed description available."," "]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Highlights / Attractions"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:f.map((e,t)=>(0,r.jsx)("li",{className:"text-gray-700",children:e},"att-".concat(t)))})]}),p.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Popular Activities"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:p.map((e,t)=>(0,r.jsx)("li",{className:"text-gray-700",children:e},"act-".concat(t)))})]})]}),1===a.permit_required&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-yellow-800 mb-1",children:[" ",(0,r.jsx)(u.Z,{size:18,className:"inline mr-1 mb-0.5"})," Permit Required"]}),(0,r.jsxs)("p",{className:"text-yellow-700 text-sm",children:[" ",a.permit_details||"A permit is required to visit this area. Please arrange in advance."," "]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[" ",(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Best Time to Visit"})," ",(0,r.jsx)("p",{className:"text-gray-700",children:b})," "]}),(0,r.jsxs)("div",{children:[" ",(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"How to Reach"})," ",(0,r.jsx)("p",{className:"text-gray-700",children:j})," "]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Packages Including ",a.name]}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Explore our curated packages that feature visits to ",a.name,"."]}),(0,r.jsxs)("div",{className:"mt-4",children:[" ",(0,r.jsx)(i.default,{href:"/packages?destination=".concat(s),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 inline-block",children:" View Related Packages "})," "]})]})]})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,r.jsx)(c.Z,{className:"h-12 w-12 text-orange-500 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Data Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Could not display booking details. Please try refreshing."}),(0,r.jsx)(i.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 py-10",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Destination Not Found"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["The destination you are looking for (ID: ",s,") does not exist or is unavailable."]}),(0,r.jsx)(i.default,{href:"/destinations",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Destinations"})]})}function x(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(h,{}),children:(0,r.jsx)(m,{})})}},29889:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});var r=s(2265);function a(e,t){let s=(0,r.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[a,n]=(0,r.useState)({data:null,error:null,status:"idle"}),l=(0,r.useRef)(e),i=(0,r.useRef)(t);JSON.stringify(i.current)!==JSON.stringify(t)&&(i.current=t);let c=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",c.current),l.current===e&&null!==e&&!c.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}c.current=!1,l.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),n({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),n({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let r=await fetch(s,{...i.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await r.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let s=(null==t?void 0:t.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),n({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),n({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),n({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:a.status}),{data:a.data,error:a.error,status:a.status,isLoading:"loading"===a.status}}}},function(e){e.O(0,[2972,3145,2971,2117,1744],function(){return e(e.s=40382)}),_N_E=e.O()}]);