(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1647],{3527:function(e,t,s){Promise.resolve().then(s.bind(s,1463))},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7662:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3974:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]])},7746:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2449:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2720:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(2972),n=s.n(r)},1463:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var r=s(7437),n=s(2265),c=s(7648),a=s(3145),l=s(5863),i=s(3639),o=s(7662),u=s(5805),d=s(2449),m=s(1723),h=s(3974),f=s(2720),p=s(3774),g=s(7746),x=s(6595),v=s(6858);let y=(0,s(9763).Z)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var b=s(3247),j=s(9889),N=s(3494);let k=e=>{let{text:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16",children:[(0,r.jsx)(l.Z,{className:"h-10 w-10 animate-spin ".concat(N.xb," mb-4")}),(0,r.jsx)("span",{className:"text-lg font-medium ".concat(N.qf),children:t})]})},w=e=>{let{message:t,onRetry:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-16 text-center p-6 rounded-2xl ".concat(N.AD," border ").concat(N.qB),children:[(0,r.jsx)(i.Z,{className:"h-10 w-10 ".concat(N.kq," mb-4")}),(0,r.jsx)("span",{className:"text-lg font-medium ".concat(N.Mx),children:"Oops! Something went wrong."}),(0,r.jsx)("p",{className:"text-sm ".concat(N.tM," mt-2"),children:t||"Failed to load services."}),s&&(0,r.jsx)("button",{onClick:s,className:"mt-4 ".concat(N.j0),children:"Try Again"})]})},S=e=>{var t,s,l,i;let{service:y,categoryColor:b}=e,[j,k]=(0,n.useState)(!1),w=(i=null===(t=y.images)||void 0===t?void 0:t[0],j||!i||"string"!=typeof i||""===i.trim()||["null","undefined"].includes(i.toLowerCase())?"/images/placeholder_service.jpg":i.startsWith("http://")||i.startsWith("https://")?i:i.startsWith("/")?i:"/images/".concat(i)),S=y.rating||null,R=e=>{if(e.amenities&&"string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);return(null==t?void 0:t.specifics)||null}catch(e){console.error("Failed to parse amenities JSON for specifics:",e)}else if("object"==typeof e.amenities&&null!==e.amenities)return e.amenities.specifics||null;return null},L=(e=>{if(e.price_details)return e.price_details;let t=R(e);if("transport"===e.service_category){let e=null==t?void 0:t.transport;if(null==e?void 0:e.price_per_trip)return"₹".concat(Number(e.price_per_trip).toLocaleString("en-IN")," per trip");if(null==e?void 0:e.price_per_km)return"₹".concat(Number(e.price_per_km).toLocaleString("en-IN")," per km")}else if("rental"===e.service_category){let s=null==t?void 0:t.rental;if((null==s?void 0:s.unit)&&e.price_numeric)return"₹".concat(e.price_numeric.toLocaleString("en-IN")," ").concat(s.unit)}return e.price_numeric?"₹".concat(e.price_numeric.toLocaleString("en-IN")," (approx)"):"Price on request"})(y),_="";return"transport"===y.service_category?_="/services/transport/".concat(y.id):"rental"===y.service_category?_="/services/rental/".concat(y.id):"activity"===y.service_category&&(_="/activities/".concat(y.id)),(0,r.jsxs)("div",{className:"".concat(N.JB," flex flex-col overflow-hidden p-0"),children:[" ",(0,r.jsxs)("div",{className:"h-48 w-full relative flex-shrink-0",children:[(0,r.jsx)(a.default,{src:w,alt:y.name||"Service Image",fill:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:()=>{if(!j){var e;console.log("Image failed to load, attempting placeholder:",null===(e=y.images)||void 0===e?void 0:e[0]),k(!0)}},priority:!1}),"/images/placeholder_service.jpg"===w&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/80 pointer-events-none",children:(0,r.jsx)(h.Z,{size:32,className:"".concat(N.xb," opacity-60")})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/30 to-transparent"})," ",(0,r.jsxs)("div",{style:{backgroundColor:b},className:"absolute top-3 right-3 text-white text-xs font-semibold py-1 px-2.5 rounded-full shadow-md flex items-center",children:["transport"===y.service_category?(0,r.jsx)(o.Z,{size:12,className:"mr-1"}):"rental"===y.service_category?(0,r.jsx)(d.Z,{size:12,className:"mr-1"}):(0,r.jsx)(f.Z,{size:12,className:"mr-1"}),(y.type||"").replace(/^(transport_|rental_|activity_)/,"").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[" ",(0,r.jsx)("h3",{className:"text-md font-semibold leading-tight ".concat(N.qf," line-clamp-2 mb-1"),children:y.name}),(0,r.jsxs)("div",{className:"flex items-center text-xs ".concat(N.tM," mb-2"),children:[(0,r.jsx)(p.Z,{size:12,className:"mr-1 flex-shrink-0 ".concat(N.xb)}),(0,r.jsx)("span",{children:y.island_name}),(null===(s=y.provider)||void 0===s?void 0:s.business_name)&&(0,r.jsx)("span",{className:"mx-1.5 text-gray-300",children:"|"}),(null===(l=y.provider)||void 0===l?void 0:l.business_name)&&(0,r.jsxs)("span",{className:"line-clamp-1 ".concat(N.tM),children:["By: ",y.provider.business_name]})]}),(()=>{let e=R(y),t="mr-1 flex-shrink-0 ".concat(N.xb);if("transport"===y.service_category){let s=null==e?void 0:e.transport;return(0,r.jsxs)("div",{className:"flex items-center text-xs ".concat(N.tM," mb-2 gap-x-3"),children:[(null==s?void 0:s.vehicle_type)&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{size:12,className:t})," ",(0,r.jsx)("span",{children:s.vehicle_type})]}),(null==s?void 0:s.capacity_passengers)&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.Z,{size:12,className:t})," ",(0,r.jsxs)("span",{children:[s.capacity_passengers," passengers"]})]})]})}if("rental"===y.service_category){let s=null==e?void 0:e.rental;return(0,r.jsxs)("div",{className:"flex items-center text-xs ".concat(N.tM," mb-2 gap-x-3"),children:[y.item_type&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.Z,{size:12,className:t})," ",(0,r.jsx)("span",{children:y.item_type})]}),(null==s?void 0:s.unit)&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.Z,{size:12,className:t})," ",(0,r.jsx)("span",{children:s.unit})]})]})}return null})(),(0,r.jsx)("p",{className:"".concat(N.tM," text-xs mb-3 line-clamp-2 flex-grow"),children:y.description||"Reliable service for your travel needs."}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center font-semibold ".concat(N.qf),children:[" ",(0,r.jsx)(g.Z,{size:14,className:"mr-0.5"})," ",L]}),null!==S&&(0,r.jsxs)("div",{className:"flex items-center text-yellow-500",children:[" ",(0,r.jsx)(x.Z,{size:14,fill:"currentColor",className:"text-yellow-400"}),(0,r.jsx)("span",{className:"ml-1 font-medium ".concat(N.qf),children:S.toFixed(1)})]})]}),_&&(0,r.jsxs)(c.default,{href:_,className:"mt-auto block w-full text-center ".concat(N.zi," text-sm py-2.5"),children:["View Details ",(0,r.jsx)(v.Z,{size:14,className:"ml-1 inline-block"})]})]})]})};function R(){let[e,t]=(0,n.useState)({search:"",islandId:""}),[s,c]=(0,n.useState)(e),[a,l]=(0,n.useState)(0);(0,n.useEffect)(()=>{let t=setTimeout(()=>c(e),500);return()=>clearTimeout(t)},[e]);let i=(0,n.useCallback)(()=>{let e=new URLSearchParams;return e.append("category","transport,rental,activity"),s.search&&e.append("search",s.search),s.islandId&&e.append("islandId",s.islandId),"/api/services-main?".concat(e.toString()).concat(a?"&_cacheBust=".concat(a):"")},[s,a]),{data:u,error:m,status:h}=(0,j.i)(i());console.log("\uD83D\uDD0D ServicesMainPage: Raw API response:",u);let p=(0,n.useCallback)(()=>{l(e=>e+1)},[]),g=[];u&&(g=(Array.isArray(u)?u:u.data||[]).map(e=>{if(!e.service_category){var t,s,r;if(null===(t=e.type)||void 0===t?void 0:t.startsWith("transport"))return{...e,service_category:"transport"};if(null===(s=e.type)||void 0===s?void 0:s.startsWith("rental"))return{...e,service_category:"rental"};if(null===(r=e.type)||void 0===r?void 0:r.startsWith("activity"))return{...e,service_category:"activity"}}return e})),console.log("\uD83D\uDD0D ServicesMainPage: Processed ".concat(g.length," services."));let x="loading"===h,v="error"===h?m:null,R=g.filter(e=>(null==e?void 0:e.service_category)==="transport"),_=g.filter(e=>(null==e?void 0:e.service_category)==="rental"),Z=g.filter(e=>(null==e?void 0:e.service_category)==="activity"),M=e=>{t(t=>({...t,[e.target.name]:e.target.value}))},U=(e,t,s,c)=>(0,r.jsxs)("section",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[n.createElement(s,{size:28,className:"mr-3 ".concat(N.xb)})," ",(0,r.jsx)("h2",{className:"text-2xl font-bold ".concat(N.qf),children:e})," "]}),x&&0===t.length&&(0,r.jsx)(k,{text:"Loading ".concat(e.toLowerCase(),"...")})," ",v&&!x&&0===t.length&&(0,r.jsx)(w,{message:"Could not load ".concat(e.toLowerCase(),". ").concat(v.message),onRetry:p}),!x&&!v&&0===t.length&&(0,r.jsx)("div",{className:"bg-white rounded-lg p-8 text-center shadow-sm border ".concat(N.J),children:(0,r.jsxs)("p",{className:"".concat(N.tM),children:["No ",e.toLowerCase()," found matching your criteria."]})}),!x&&!v&&t.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:t.map(e=>(0,r.jsx)(S,{service:e,categoryColor:c},"".concat(e.service_category,"-").concat(e.id)))})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"".concat(N.Cx," border-b ").concat(N.J),children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-16 md:py-24 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold ".concat(N.qf," mb-4"),children:"Services & Activities"}),(0,r.jsx)("p",{className:"text-lg sm:text-xl ".concat(N.tM," max-w-2xl mx-auto"),children:"Discover reliable transport, convenient rentals, and exciting activities for your perfect Andaman adventure."})]})}),(0,r.jsx)("div",{className:"bg-white py-10 md:py-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[x&&0===g.length&&(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)(k,{text:"Loading all services..."})}),v&&!x&&0===g.length&&(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(w,{message:"Failed to load services. ".concat(v.message),onRetry:p})}),(0,r.jsxs)("div",{className:"".concat(N.JB," p-5 md:p-6 mb-10"),children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(y,{size:20,className:"mr-2 ".concat(N.xb)}),(0,r.jsx)("h3",{className:"text-lg font-semibold ".concat(N.qf),children:"Filter Services"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-end",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"search",className:"block text-xs font-medium ".concat(N.tM," mb-1"),children:"Search by Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(b.Z,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 ".concat(N.xb," opacity-70")}),(0,r.jsx)("input",{type:"text",id:"search",name:"search",value:e.search,onChange:M,placeholder:"e.g., Airport Cab, Scooter Rental",className:"w-full pl-8 pr-3 py-2 border ".concat(N.qc," rounded-md shadow-sm focus:ring-2 focus:ring-[").concat(N.o5,"] focus:border-[").concat(N.o5,"] text-sm ").concat(N.qf," placeholder-").concat(N.tM)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"islandId",className:"block text-xs font-medium ".concat(N.tM," mb-1"),children:"Island"}),(0,r.jsx)("select",{id:"islandId",name:"islandId",value:e.islandId,onChange:M,className:"w-full py-2 px-3 border ".concat(N.qc," bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[").concat(N.o5,"] focus:border-[").concat(N.o5,"] text-sm ").concat(N.qf),children:[{value:"",label:"All Islands"},{value:"1",label:"Havelock Island (Swaraj Dweep)"},{value:"2",label:"Neil Island (Shaheed Dweep)"},{value:"3",label:"Port Blair"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]}),!x&&!v&&0===g.length&&L()&&(0,r.jsxs)("div",{className:"text-center py-10 bg-white rounded-xl shadow-md border ".concat(N.J," mb-8"),children:[(0,r.jsx)("p",{className:"text-lg ".concat(N.qf),children:"No services found matching your search criteria."}),(0,r.jsx)("button",{onClick:()=>t({search:"",islandId:""}),className:"mt-4 ".concat(N.j0),children:"Clear Filters"})]}),(!x||g.length>0)&&(0,r.jsxs)(r.Fragment,{children:[U("Transport Services",R,o.Z,"#3B82F6"),U("Rental Services",_,d.Z,"#F59E0B"),U("Activity Services",Z,f.Z,"#EC4899")]})]})})]})}let L=e=>!!e&&(""!==e.search||""!==e.islandId);function _(){return(0,r.jsx)(R,{})}},9889:function(e,t,s){"use strict";s.d(t,{i:function(){return n},q:function(){return c}});var r=s(2265);function n(e,t){let s=(0,r.useRef)(!0);s.current&&(console.log("[useFetch] Hook initialized. URL:",e),s.current=!1);let[n,c]=(0,r.useState)({data:null,error:null,status:"idle"}),a=(0,r.useRef)(e),l=(0,r.useRef)(t);JSON.stringify(l.current)!==JSON.stringify(t)&&(l.current=t);let i=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(console.log("[useFetch] useEffect entering. URL:",e,"Initial fetch:",i.current),a.current===e&&null!==e&&!i.current){console.log("[useFetch] useEffect skipped - URL unchanged and not first render");return}i.current=!1,a.current=e,console.log("[useFetch] useEffect triggered. URL:",e),(async()=>{if(console.log("[useFetch] fetchData started. URL:",e),!e){console.log("[useFetch] URL is null, setting state to idle/null."),c({data:null,error:null,status:"idle"});return}console.log("[useFetch] Resetting state and setting status to loading."),c({data:null,error:null,status:"loading"});try{let t;console.log("[useFetch] Attempting fetch to URL:",e);let s=e.startsWith("http")?e:"".concat(window.location.origin).concat(e);console.log("[useFetch] Full URL for fetch:",s);let r=await fetch(s,{...l.current,credentials:"include"});console.log("[useFetch] Fetch completed. URL:",e,"Status:",r.status);try{console.log("[useFetch] Attempting response.json(). URL:",e),t=await r.json(),console.log("[useFetch] response.json() successful. URL:",e)}catch(t){throw console.error("[useFetch] response.json() FAILED. URL:",e,"Error:",t),Error("Request failed with status ".concat(r.status," and non-JSON response."))}if(!r.ok){let s=(null==t?void 0:t.message)||r.statusText||"HTTP error! Status: ".concat(r.status);throw console.warn("[useFetch] Response not OK. Status:",r.status,"URL:",e,"Throwing error:",s),Error(s)}if(console.log("[useFetch] Response OK. Checking result.success. URL:",e),t.success)console.log("[useFetch] result.success is true. URL:",e),void 0!==t.data?(console.log("[useFetch] Setting state data and status=success. URL:",e),c({data:t.data,error:null,status:"success"})):(console.warn("[useFetch] Fetch successful (result.success=true) but result.data is undefined. Setting state data=null, status=success. URL: ".concat(e)),c({data:null,error:null,status:"success"}));else{let s=t.message||"API returned success: false";throw console.warn("[useFetch] result.success is false. URL:",e,"Throwing error:",s),Error(s)}}catch(s){console.error("[useFetch] CATCH block error for URL ".concat(e,":"),s);let t=s instanceof Error?s:Error("Unknown fetch error occurred");console.log("[useFetch] Setting state error and status=error. URL:",e),c({data:null,error:t,status:"error"})}})()},[e]),console.log("[useFetch] Returning state for URL:",e,{status:n.status}),{data:n.data,error:n.error,status:n.status,isLoading:"loading"===n.status}}function c(e){let t=(0,r.useRef)(!0);t.current&&(console.log("[useSubmit] Hook initialized. Initial URL:",e),t.current=!1);let[s,n]=(0,r.useState)(null),[c,a]=(0,r.useState)(null),[l,i]=(0,r.useState)("idle");return{submit:async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",r=arguments.length>2?arguments[2]:void 0,c=r||e;if(console.log("[useSubmit] submit function called. Target URL:",c,"Method:",s),i("loading"),n(null),a(null),!c)return console.error("[useSubmit] No URL provided (initial or override). Aborting submission."),a(Error("No URL specified for submission.")),i("error"),{success:!1,error:"No URL specified for submission."};try{let e;let r={method:s,headers:{"Content-Type":"application/json",Accept:"application/json"},body:"DELETE"!==s?JSON.stringify(t):void 0,credentials:"include"};console.log("[useSubmit] Attempting fetch. URL:",c);let a=await fetch(c,r);console.log("[useSubmit] Fetch completed. URL:",c,"Status:",a.status);try{console.log("[useSubmit] Attempting response.json(). URL:",c),204===a.status||"0"===a.headers.get("content-length")?(console.log("[useSubmit] Received 204 No Content or empty body. Assuming success."),e={success:!0}):e=await a.json(),console.log("[useSubmit] response.json() successful or handled empty. URL:",c)}catch(e){throw console.error("[useSubmit] response.json() FAILED. URL:",c,"Error:",e),Error("Request failed with status ".concat(a.status," and non-JSON response."))}if(console.log("[useSubmit] Checking response.ok and result.success. URL:",c),a.ok&&(void 0===e.success||!0===e.success)){if(console.log("[useSubmit] Response OK and result.success is true/undefined. URL:",c),void 0!==e.data)return console.log("[useSubmit] Setting data and status=success. URL:",c),n(e.data),i("success"),{success:!0,data:e.data};return n(null),i("success"),console.warn("[useSubmit] Submit successful (result.success=true/undefined) but result.data is undefined. Setting data=null, status=success. URL: ".concat(c)),{success:!0,data:null}}{let t=e.message||"API Error: Status ".concat(a.status,", Success Flag: ").concat(e.success);throw console.warn("[useSubmit] Response NOT OK or result.success is false. URL:",c,"Throwing error:",t),Error(t)}}catch(t){console.error("[useSubmit] CATCH block error. URL:",c,"Error:",t);let e=t instanceof Error?t.message:"Unknown submit error occurred";return console.log("[useSubmit] Setting error state and status=error. URL:",c),a(Error(e)),i("error"),{success:!1,error:e}}},data:s,error:c,status:l,isLoading:"loading"===l,reset:()=>{console.log("[useSubmit] reset function called."),n(null),a(null),i("idle")}}}},3494:function(e,t,s){"use strict";s.d(t,{AD:function(){return n},Cx:function(){return i},J:function(){return o},JB:function(){return g},ME:function(){return x},Mx:function(){return a},dI:function(){return p},j0:function(){return y},kq:function(){return l},nd:function(){return u},o5:function(){return r},qB:function(){return c},qc:function(){return d},qf:function(){return m},tM:function(){return h},xb:function(){return f},zi:function(){return v}});let r="bg-gray-800",n="bg-red-50",c="border-red-200",a="text-red-700",l="text-red-500",i="bg-gray-50",o="border-gray-100",u="bg-gray-100",d="border-gray-200",m="text-gray-800",h="text-gray-600",f="text-gray-600",p="py-10 md:py-12",g="bg-white rounded-2xl shadow-lg border ".concat(o," p-6 transition-shadow hover:shadow-xl"),x="text-lg font-semibold ".concat(m," mb-3 flex items-center"),v="inline-flex items-center justify-center ".concat(r," ").concat("hover:bg-gray-900"," ").concat("text-white"," px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800"),y="inline-flex items-center justify-center ".concat("bg-white"," ").concat("hover:bg-gray-100"," ").concat("text-gray-700"," ").concat("border border-gray-300"," px-4 py-2 rounded-full font-medium transition-all duration-300 text-sm shadow-sm")}},function(e){e.O(0,[2972,3847,2971,2117,1744],function(){return e(e.s=3527)}),_N_E=e.O()}]);