(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1647],{3527:function(e,t,s){Promise.resolve().then(s.bind(s,1463))},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7662:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1463:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(7437),c=s(2265),r=s(7648),n=s(3145),i=s(5863),l=s(3639),o=s(7662),d=s(5805),m=s(2449),x=s(1723),u=s(3974),p=s(2720),h=s(3774),v=s(7746),g=s(6595),f=s(6858);let y=(0,s(9763).Z)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var j=s(3247),b=s(9889),N=s(5960);let _=e=>{let{text:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-16 ".concat(N.dI),children:[(0,a.jsx)(i.Z,{className:"h-12 w-12 animate-spin ".concat(N.O9," mb-4")}),(0,a.jsx)("span",{className:"text-lg font-medium ".concat(N.Wx),children:t})]})},w=e=>{let{message:t,onRetry:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-16 text-center p-6 rounded-2xl ".concat(N.AD," border ").concat(N.qB," ").concat(N.dI),children:[(0,a.jsx)(l.Z,{className:"h-12 w-12 ".concat(N.kq," mb-4")}),(0,a.jsx)("span",{className:"text-lg font-medium ".concat(N.Mx),children:"Oops! Something went wrong."}),(0,a.jsx)("p",{className:"text-sm ".concat(N.tM," mt-2"),children:t||"Failed to load services."}),s&&(0,a.jsx)("button",{onClick:s,className:"mt-6 ".concat(N.oW," text-sm py-2 px-4 border-red-300 text-red-600 hover:bg-red-100"),children:"Try Again"})]})},k=e=>{var t,s,i,l;let{service:y,categoryColor:j}=e,[b,_]=(0,c.useState)(!1),w=(l=null===(t=y.images)||void 0===t?void 0:t[0],b||!l||"string"!=typeof l||""===l.trim()||["null","undefined"].includes(l.toLowerCase())?"/images/placeholder_service.jpg":l.startsWith("http")||l.startsWith("/")?l:"/images/".concat(l)),k=y.rating||null,Z=e=>{if(e.amenities&&"string"==typeof e.amenities)try{var t;return(null===(t=JSON.parse(e.amenities))||void 0===t?void 0:t.specifics)||null}catch(e){console.error("Failed to parse amenities JSON for specifics:",e)}else if("object"==typeof e.amenities&&null!==e.amenities)return e.amenities.specifics||null;return null},C=(e=>{if(e.price_details)return e.price_details;let t=Z(e);if("transport"===e.service_category){let e=null==t?void 0:t.transport;if(null==e?void 0:e.price_per_trip)return"₹".concat(Number(e.price_per_trip).toLocaleString("en-IN")," per trip");if(null==e?void 0:e.price_per_km)return"₹".concat(Number(e.price_per_km).toLocaleString("en-IN")," per km")}else if("rental"===e.service_category){let s=null==t?void 0:t.rental;if((null==s?void 0:s.unit)&&e.price_numeric)return"₹".concat(e.price_numeric.toLocaleString("en-IN")," ").concat(s.unit)}return e.price_numeric?"₹".concat(e.price_numeric.toLocaleString("en-IN")," (approx)"):"Price on request"})(y),S="";return"transport"===y.service_category?S="/services/transport/".concat(y.id):"rental"===y.service_category?S="/services/rental/".concat(y.id):"activity"===y.service_category&&(S="/activities/".concat(y.id)),(0,a.jsxs)("div",{className:"".concat(N.JB," flex flex-col overflow-hidden group p-0 hover:shadow-xl transition-shadow duration-300"),children:[" ",(0,a.jsxs)("div",{className:"h-52 w-full relative flex-shrink-0 ".concat(N.Cx),children:[(0,a.jsx)(n.default,{src:w,alt:y.name||"Service Image",fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",onError:()=>{b||_(!0)}}),"/images/placeholder_service.jpg"===w&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center ".concat(N.Cx,"/80 pointer-events-none"),children:(0,a.jsx)(u.Z,{size:36,className:"".concat(N.xb," opacity-50")})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),(0,a.jsxs)("div",{style:{backgroundColor:j},className:"absolute top-3 right-3 text-white text-xs font-semibold py-1 px-2.5 rounded-md shadow-lg flex items-center",children:["transport"===y.service_category?(0,a.jsx)(o.Z,{size:12,className:"mr-1"}):"rental"===y.service_category?(0,a.jsx)(m.Z,{size:12,className:"mr-1"}):(0,a.jsx)(p.Z,{size:12,className:"mr-1"}),(y.type||y.service_category||"").replace(/^(transport_|rental_|activity_)/,"").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]})]}),(0,a.jsxs)("div",{className:"p-4 md:p-5 flex flex-col flex-grow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold leading-tight ".concat(N.qf," line-clamp-2 mb-1.5 group-hover:").concat(N.Wx," transition-colors"),children:y.name}),(0,a.jsxs)("div",{className:"flex items-center text-xs ".concat(N.tM," mb-2"),children:[(0,a.jsx)(h.Z,{size:14,className:"mr-1.5 flex-shrink-0 ".concat(N.xb)}),(0,a.jsx)("span",{className:"truncate",children:y.island_name}),(null===(s=y.provider)||void 0===s?void 0:s.business_name)&&(0,a.jsx)("span",{className:"mx-1.5 ".concat(N.J),children:"|"}),(null===(i=y.provider)||void 0===i?void 0:i.business_name)&&(0,a.jsxs)("span",{className:"truncate ".concat(N.tM),children:["By: ",y.provider.business_name]})]}),(()=>{let e=Z(y),t="mr-1.5 flex-shrink-0 ".concat(N.xb),s="text-xs ".concat(N.tM);if("transport"===y.service_category){let c=null==e?void 0:e.transport;return(0,a.jsxs)("div",{className:"flex flex-wrap items-center ".concat(s," mb-2 gap-x-3 gap-y-1"),children:[(null==c?void 0:c.vehicle_type)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{size:14,className:t}),(0,a.jsx)("span",{children:c.vehicle_type})]}),(null==c?void 0:c.capacity_passengers)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{size:14,className:t}),(0,a.jsxs)("span",{children:[c.capacity_passengers," passengers"]})]})]})}if("rental"===y.service_category){let c=null==e?void 0:e.rental;return(0,a.jsxs)("div",{className:"flex flex-wrap items-center ".concat(s," mb-2 gap-x-3 gap-y-1"),children:[y.item_type&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{size:14,className:t}),(0,a.jsx)("span",{children:y.item_type})]}),(null==c?void 0:c.unit)&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{size:14,className:t}),(0,a.jsx)("span",{children:c.unit})]})]})}return null})(),(0,a.jsx)("p",{className:"".concat(N.tM," text-sm mb-3 line-clamp-3 flex-grow"),children:y.description||"Reliable service for your travel needs."}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold ".concat(N.IW),children:[(0,a.jsx)(v.Z,{size:16,className:"mr-0.5 inline-block ".concat(N.eB)})," ",C]}),null!==k&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{size:16,fill:"currentColor",className:"text-yellow-400"}),(0,a.jsx)("span",{className:"ml-1.5 font-medium ".concat(N.qf),children:k.toFixed(1)})]})]}),S&&(0,a.jsxs)(r.default,{href:S,className:"mt-auto block w-full text-center ".concat(N.zi," text-sm py-2.5"),children:["View Details ",(0,a.jsx)(f.Z,{size:16,className:"ml-1.5 inline-block"})]})]})]})};function Z(){let[e,t]=(0,c.useState)({search:"",islandId:""}),s="focus:ring-".concat(N.o5.split("-")[1]||"gray","-").concat(N.o5.split("-")[2]||"500"),r="focus:border-".concat(N.o5.split("-")[1]||"gray","-").concat(N.o5.split("-")[2]||"500"),n="w-full p-3 text-base ".concat(N.qf," bg-white border ").concat(N.qc," rounded-lg focus:outline-none focus:ring-2 ").concat(s," ").concat(r," transition-shadow shadow-sm hover:border-gray-400"),i="block text-sm font-medium ".concat(N.qf," mb-1.5"),[l,d]=(0,c.useState)(e),[x,u]=(0,c.useState)(0);(0,c.useEffect)(()=>{let t=setTimeout(()=>d(e),500);return()=>clearTimeout(t)},[e]);let h=(0,c.useCallback)(()=>{let e=new URLSearchParams;return e.append("category","transport,rental,activity"),l.search&&e.append("search",l.search),l.islandId&&e.append("islandId",l.islandId),"/api/services-main?".concat(e.toString()).concat(x?"&_cacheBust=".concat(x):"")},[l,x]),{data:v,error:g,status:f}=(0,b.i)(h()),Z=(0,c.useCallback)(()=>u(e=>e+1),[]),S=[];v&&(S=(Array.isArray(v)?v:v.data||[]).map(e=>{if(!e.service_category){var t,s,a;if(null===(t=e.type)||void 0===t?void 0:t.startsWith("transport"))return{...e,service_category:"transport"};if(null===(s=e.type)||void 0===s?void 0:s.startsWith("rental"))return{...e,service_category:"rental"};if(null===(a=e.type)||void 0===a?void 0:a.startsWith("activity"))return{...e,service_category:"activity"}}return e}));let I="loading"===f,M="error"===f?g:null,q=S.filter(e=>(null==e?void 0:e.service_category)==="transport"),z=S.filter(e=>(null==e?void 0:e.service_category)==="rental"),F=S.filter(e=>(null==e?void 0:e.service_category)==="activity"),A=e=>{t(t=>({...t,[e.target.name]:e.target.value}))},L=(e,t,s,r,n)=>(0,a.jsxs)("section",{id:n,className:"mb-12 md:mb-16 scroll-mt-20",children:[" ",(0,a.jsxs)("h2",{className:"".concat(N.ME," text-2xl md:text-3xl"),children:[c.createElement(s,{size:26,className:"mr-3 ".concat(N.O9)})," ",e]}),I&&0===t.length&&(0,a.jsx)(_,{text:"Loading ".concat(e.toLowerCase(),"...")}),M&&!I&&0===t.length&&(0,a.jsx)(w,{message:"Could not load ".concat(e.toLowerCase(),". ").concat(M.message),onRetry:Z}),!I&&!M&&0===t.length&&(0,a.jsx)("div",{className:"".concat(N.nd," rounded-xl p-8 text-center border ").concat(N.qc),children:(0,a.jsxs)("p",{className:"".concat(N.tM," text-lg"),children:["No ",e.toLowerCase()," found matching your current filters."]})}),!I&&!M&&t.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:t.map(e=>(0,a.jsx)(k,{service:e,categoryColor:r},"".concat(e.service_category,"-").concat(e.id)))})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"".concat(N.Cx," border-b ").concat(N.J),children:(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(N.dI," text-center"),children:[(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold ".concat(N.qf," mb-4"),children:"Services & Activities"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl ".concat(N.tM," max-w-3xl mx-auto"),children:"Discover reliable transport, convenient rentals, and exciting activities for your perfect Andaman adventure. Your seamless journey starts here."})]})}),(0,a.jsx)("div",{className:"".concat(N.Cx," ").concat(N.dI),children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[I&&0===S.length&&(0,a.jsx)("div",{className:"text-center mb-10",children:(0,a.jsx)(_,{text:"Loading all services..."})}),M&&!I&&0===S.length&&(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)(w,{message:"Failed to load services. ".concat(M.message),onRetry:Z})}),(0,a.jsxs)("div",{className:"".concat(N.JB," p-5 md:p-6 mb-10 md:mb-12 shadow-lg"),children:[(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)(y,{size:22,className:"mr-2.5 ".concat(N.O9)}),(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(N.qf),children:"Filter Services"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 md:gap-6 items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"search",className:i,children:"Search by Name or Type"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)(j.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 ".concat(N.xb," pointer-events-none"),size:18}),(0,a.jsx)("input",{type:"text",id:"search",name:"search",value:e.search,onChange:A,placeholder:"e.g., Airport Cab, Scooter",className:"".concat(n," pl-11")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"islandId",className:i,children:"Filter by Island"}),(0,a.jsx)("select",{id:"islandId",name:"islandId",value:e.islandId,onChange:A,className:"".concat(n," appearance-none bg-no-repeat"),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundSize:"1.5em 1.5em"},children:[{value:"",label:"All Islands"},{value:"1",label:"Havelock Island (Swaraj Dweep)"},{value:"2",label:"Neil Island (Shaheed Dweep)"},{value:"3",label:"Port Blair"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]}),!I&&!M&&0===S.length&&C(l)&&(0,a.jsxs)("div",{className:"".concat(N.nd," rounded-xl p-8 text-center border ").concat(N.qc," shadow-md mb-10"),children:[(0,a.jsx)("p",{className:"text-xl ".concat(N.qf," mb-3"),children:"No Services Found"}),(0,a.jsx)("p",{className:"".concat(N.tM," mb-5"),children:"No services matched your current filter criteria. Please try adjusting your search."}),(0,a.jsx)("button",{onClick:()=>t({search:"",islandId:""}),className:"".concat(N.oW," bg-white hover:bg-gray-100 text-gray-700 border-gray-300"),children:"Clear All Filters"})]}),(!I||S.length>0)&&(0,a.jsxs)(a.Fragment,{children:[L("Transport Services",q,o.Z,"#3B82F6","transport"),L("Rental Services",z,m.Z,"#F59E0B","rental"),L("Activity Services",F,p.Z,"#EC4899","activity")]})]})})]})}let C=e=>!!e&&(""!==e.search||""!==e.islandId);function S(){return(0,a.jsx)(Z,{})}}},function(e){e.O(0,[2972,3847,1859,2971,2117,1744],function(){return e(e.s=3527)}),_N_E=e.O()}]);