(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9001],{3555:function(e,t,i){Promise.resolve().then(i.bind(i,1700))},44:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},8501:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},5302:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3245:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},4286:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5131:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9376:function(e,t,i){"use strict";var a=i(5475);i.o(a,"useParams")&&i.d(t,{useParams:function(){return a.useParams}}),i.o(a,"usePathname")&&i.d(t,{usePathname:function(){return a.usePathname}}),i.o(a,"useRouter")&&i.d(t,{useRouter:function(){return a.useRouter}}),i.o(a,"useSearchParams")&&i.d(t,{useSearchParams:function(){return a.useSearchParams}})},1700:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var a=i(7437);i(2265);var s=i(9376),n=i(7648),r=i(3145),l=i(9889),c=i(5863),o=i(3639),d=i(2451),m=i(3774),u=i(2449),p=i(6595),h=i(3974),x=i(3245),y=i(2720),v=i(1723),g=i(7746);let f=(0,i(9763).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var _=i(5302),j=i(4286),b=i(8501),N=i(5131),k=i(44),D=i(3494);let w=()=>(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI," text-center ").concat(D.Cx," rounded-2xl border ").concat(D.J),children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 animate-spin ".concat(D.xb," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(D.qf),children:"Loading Rental Service Details..."}),(0,a.jsx)("p",{className:"".concat(D.tM),children:"Please wait a moment."})]}),M=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI," text-center ").concat(D.AD," rounded-2xl border ").concat(D.qB),children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 ".concat(D.kq," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(D.Mx),children:"Could Not Load Service"}),(0,a.jsx)("p",{className:"".concat(D.tM),children:t||"The service details could not be retrieved."}),(0,a.jsxs)(n.default,{href:"/services",className:"mt-6 ".concat(D.j0),children:[(0,a.jsx)(d.Z,{size:18,className:"mr-2"})," Back to Services"]})]})},S=e=>{let{label:t,value:i,icon:s,className:n,highlight:r}=e;return null==i||""===i?null:(0,a.jsxs)("div",{className:"flex items-start py-2 ".concat(n||""),children:[s&&(0,a.jsx)(s,{size:16,className:"mr-3 mt-1 flex-shrink-0 ".concat(r?D.o5:D.xb)}),(0,a.jsxs)("span",{className:"text-sm ".concat(r?"font-semibold ".concat(D.qf):"font-medium ".concat(D.tM)," w-36 md:w-40 flex-shrink-0"),children:[t,":"]}),(0,a.jsx)("span",{className:"text-sm ".concat(D.tM," flex-grow break-words"),children:i})]})},Z=e=>{let{title:t,icon:i,children:s,className:n}=e;return(0,a.jsxs)("div",{className:"py-5 border-b ".concat(D.J," last:border-b-0 ").concat(n||""),children:[(0,a.jsxs)("h2",{className:D.ME,children:[i&&(0,a.jsx)(i,{size:20,className:"mr-2.5 ".concat(D.xb)}),t]}),(0,a.jsx)("div",{className:"space-y-1",children:s})]})};var P=()=>{var e,t,i;let c;let o=(0,s.useParams)().serviceId;console.log("\uD83D\uDD0D RentalServiceDetailPage: Loading service with ID:",o);let{data:P,error:z,status:A}=(0,l.i)(o?"/api/services-main/".concat(o):null),C="error"===A?z:null;console.log("\uD83D\uDD0D RentalServiceDetailPage: API Response:",JSON.stringify(P)),console.log("\uD83D\uDD0D RentalServiceDetailPage: Status:",A),console.log("\uD83D\uDD0D RentalServiceDetailPage: Error:",C);let J=null;if(P&&("data"in P&&P.data?J=P.data:("service_category"in P&&P.service_category||"type"in P&&P.type)&&(J=P)),console.log("\uD83D\uDD0D RentalServiceDetailPage: Service Data:",JSON.stringify(J)),J&&("rental"===J.service_category?c=J:J.type&&"string"==typeof J.type&&J.type.startsWith("rental")&&(c={...J,service_category:"rental"})),console.log("\uD83D\uDD0D RentalServiceDetailPage: Processed Service:",c?"Valid rental service":"Invalid or non-rental service"),"loading"===A)return(0,a.jsx)(w,{});if(C||!c)return(0,a.jsx)(M,{message:(null==C?void 0:C.message)||(null==P?void 0:P.message)||"Rental service not found or invalid type."});let q=(e=>{var t,i,a,s,n;let r=null;if(e.amenities&&"string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);(null==t?void 0:null===(a=t.specifics)||void 0===a?void 0:a.rental)&&(r=t.specifics.rental)}catch(e){console.error("Failed to parse amenities JSON:",e)}else"object"==typeof e.amenities&&null!==e.amenities&&(null===(n=e.amenities)||void 0===n?void 0:null===(s=n.specifics)||void 0===s?void 0:s.rental)&&(r=e.amenities.specifics.rental);return{item_type:(null==r?void 0:r.item_type)||e.item_type,rental_duration_options:Array.isArray(null==r?void 0:r.rental_duration_options)?r.rental_duration_options:Array.isArray(e.rental_duration_options)?e.rental_duration_options:[],price_per_hour:(null==r?void 0:r.price_per_hour)||e.price_per_hour,price_per_day:(null==r?void 0:r.price_per_day)||e.price_per_day,deposit_amount:(null==r?void 0:null===(t=r.deposit)||void 0===t?void 0:t.amount)||e.deposit_amount,pickup_location_options:Array.isArray(null==r?void 0:r.pickup_location_options)?r.pickup_location_options:Array.isArray(e.pickup_location_options)?e.pickup_location_options:[],rental_terms:(null==r?void 0:null===(i=r.requirements)||void 0===i?void 0:i.details)||e.rental_terms,unit:(null==r?void 0:r.unit)||null,price_details:e.price_details,price_numeric:e.price_numeric}})(c),I=e=>!e||"string"!=typeof e||""===e.trim()||["null","undefined"].includes(e.toLowerCase())?"/images/placeholder_service.jpg":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/images/".concat(e),R=I(null===(e=c.images)||void 0===e?void 0:e[0]),L=(null!==(i=c.images)&&void 0!==i?i:[]).slice(1).map(e=>I(e)).filter(e=>"/images/placeholder_service.jpg"!==e),O=(e=>{if(Array.isArray(e.amenities))return e.amenities.map(String);if("string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);if(t&&Array.isArray(t.general))return t.general.map(String)}catch(e){console.error("Failed to parse amenities JSON for general amenities:",e)}else if("object"==typeof e.amenities&&null!==e.amenities){var t;if(Array.isArray(null===(t=e.amenities)||void 0===t?void 0:t.general))return e.amenities.general.map(String)}return[]})(c),{days:B,notes:E}=(e=>{let t=[],i=null;if(!e)return{days:t,notes:"Not specified"};let a=null;if("string"==typeof e)try{let t=e;t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t=t.replace(/\\"/g,'"'),a=JSON.parse(t)}catch(t){console.error("Failed to parse availability_summary JSON:",t),i=e}else"object"==typeof e&&null!==e&&(a=e);return a&&(Array.isArray(a.days)&&(t=a.days.map(e=>String(e))),"string"==typeof a.notes&&(i=a.notes)),0===t.length&&null===i?i="Availability details not specified.":t.length,{days:t,notes:i}})(c.availability_summary);return(0,a.jsxs)("div",{className:"bg-white min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40 border-b ".concat(D.J),children:(0,a.jsx)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:(0,a.jsxs)(n.default,{href:"/services",className:D.j0,children:[(0,a.jsx)(d.Z,{size:18,className:"mr-1.5"}),"Back to Services"]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI),children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(D.qf," mb-2"),children:c.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center text-sm ".concat(D.tM," gap-x-4 gap-y-1.5"),children:[c.island_name&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{size:15,className:"mr-1.5 ".concat(D.xb)})," ",c.island_name]}),q.item_type&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{size:15,className:"mr-1.5 ".concat(D.xb)})," ",q.item_type]}),null!==c.rating&&"number"==typeof c.rating&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{size:15,className:"mr-1 text-yellow-400 fill-current"})," ",c.rating.toFixed(1),"/5.0"]})]}),(null===(t=c.provider)||void 0===t?void 0:t.business_name)&&(0,a.jsxs)("p",{className:"text-sm ".concat(D.tM," mt-2"),children:["Provided by: ",(0,a.jsx)("span",{className:"font-medium ".concat(D.qf),children:c.provider.business_name})]})]}),(0,a.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-10",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)("div",{className:"mb-6 rounded-2xl overflow-hidden shadow-lg relative aspect-[16/10] border ".concat(D.J),children:[(0,a.jsx)(r.default,{src:R,alt:"Main image for ".concat(c.name),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Main image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},priority:!0,unoptimized:!0,sizes:"(max-width: 1024px) 100vw, 66vw",loading:"eager"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,a.jsx)(h.Z,{size:48,className:"".concat(D.xb," opacity-50")})})]}),L.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:L.map((e,t)=>(0,a.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md aspect-square relative border ".concat(D.J),children:[(0,a.jsx)(r.default,{src:e,alt:"".concat(c.name," gallery image ").concat(t+1),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Gallery image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},unoptimized:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw",loading:"lazy"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,a.jsx)(h.Z,{size:32,className:"".concat(D.xb," opacity-50")})})]},t))}),(0,a.jsxs)("div",{className:D.JB,children:[(0,a.jsx)(Z,{title:"Rental Overview",icon:x.Z,children:(0,a.jsx)("p",{className:"text-base leading-relaxed ".concat(D.tM),children:c.description||"Detailed description not available."})}),(0,a.jsxs)(Z,{title:"Rental Details",icon:u.Z,children:[(0,a.jsx)(S,{label:"Item Type",value:q.item_type,icon:y.Z,highlight:!0}),q.rental_duration_options&&q.rental_duration_options.length>0&&(0,a.jsx)(S,{label:"Duration Options",value:q.rental_duration_options.join(", "),icon:v.Z}),q.pickup_location_options&&q.pickup_location_options.length>0&&(0,a.jsx)(S,{label:"Pickup Locations",value:q.pickup_location_options.join(", "),icon:m.Z}),q.unit&&(0,a.jsx)(S,{label:"Unit",value:q.unit})]}),(0,a.jsxs)(Z,{title:"Pricing",icon:g.Z,children:[c.price_numeric?(0,a.jsx)(S,{label:"Base Price",value:"₹".concat(c.price_numeric.toLocaleString("en-IN")),highlight:!0}):(0,a.jsx)(S,{label:"Price",value:c.price_details||"Contact provider",highlight:!0}),q.price_per_hour&&(0,a.jsx)(S,{label:"Per Hour",value:"₹".concat(q.price_per_hour.toLocaleString("en-IN"))}),q.price_per_day&&(0,a.jsx)(S,{label:"Per Day",value:"₹".concat(q.price_per_day.toLocaleString("en-IN"))}),q.deposit_amount&&(0,a.jsx)(S,{label:"Security Deposit",value:"₹".concat(q.deposit_amount.toLocaleString("en-IN")),icon:f}),c.price_details&&c.price_details!==String(c.price_numeric)&&(0,a.jsx)(S,{label:"Notes",value:c.price_details})]}),O.length>0&&(0,a.jsx)(Z,{title:"Features / Included",icon:_.Z,children:(0,a.jsx)("ul",{className:"list-disc list-inside text-sm ".concat(D.tM," grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1.5 marker:").concat(D.xb),children:O.map((e,t)=>(0,a.jsx)("li",{children:e},t))})}),q.rental_terms&&(0,a.jsx)(Z,{title:"Rental Terms",icon:j.Z,children:(0,a.jsx)("p",{className:"text-sm ".concat(D.tM," whitespace-pre-line"),children:q.rental_terms})}),(0,a.jsxs)(Z,{title:"Availability & Policy",icon:b.Z,className:"border-b-0 pb-0",children:[B.length>0&&(0,a.jsx)(S,{label:"Available Days",value:B.join(", ")}),E&&(0,a.jsx)(S,{label:"Notes",value:E}),(0,a.jsx)(S,{label:"Cancellation",value:c.cancellation_policy||"Not specified",icon:N.Z})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,a.jsxs)("div",{className:"".concat(D.JB," sticky top-24 shadow-xl"),children:[" ",(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(D.qf," mb-1.5"),children:"Price"}),(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(D.qf," mb-1"),children:[" ",c.price_numeric?"₹".concat(c.price_numeric.toLocaleString("en-IN")):c.price_details||"Contact"]}),(0,a.jsx)("p",{className:"text-xs ".concat(D.tM," mb-4"),children:q.price_per_day?"per day":q.price_per_hour?"per hour":c.price_numeric?"(indicative price)":"(contact for details)"}),(0,a.jsx)("button",{type:"button",className:"".concat(D.zi," w-full"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book Now / Enquire"}),(0,a.jsx)("p",{className:"text-xs ".concat(D.tM," mt-2.5 text-center"),children:"Check availability and book now!"}),c.provider&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t ".concat(D.J),children:[(0,a.jsxs)("h4",{className:"text-md font-semibold ".concat(D.qf," mb-2 flex items-center"),children:[(0,a.jsx)(k.Z,{size:18,className:"mr-2 ".concat(D.xb)}),"Service Provider"]}),(0,a.jsx)("p",{className:"text-sm font-medium ".concat(D.qf),children:c.provider.business_name})]})]})})]})]})]})}}},function(e){e.O(0,[2972,3847,3855,2971,2117,1744],function(){return e(e.s=3555)}),_N_E=e.O()}]);