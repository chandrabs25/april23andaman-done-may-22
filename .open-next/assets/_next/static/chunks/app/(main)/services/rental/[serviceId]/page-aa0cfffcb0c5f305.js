(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9001],{3555:function(e,t,i){Promise.resolve().then(i.bind(i,1700))},1723:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7746:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},4286:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2449:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},2720:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},1700:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return A}});var a=i(7437);i(2265);var s=i(9376),n=i(7648),l=i(3145),r=i(9889),c=i(5863),o=i(3639),d=i(2451),p=i(3774),m=i(2449),u=i(6595),x=i(3974),h=i(3245),v=i(2720),g=i(1723),y=i(7746);let _=(0,i(9763).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var j=i(5302),f=i(4286),b=i(8501),N=i(5131),k=i(44),D=i(3494);let w=()=>(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI," text-center ").concat(D.Cx," rounded-2xl border ").concat(D.J),children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 animate-spin ".concat(D.xb," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(D.qf),children:"Loading Rental Service Details..."}),(0,a.jsx)("p",{className:"".concat(D.tM),children:"Please wait a moment."})]}),S=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI," text-center ").concat(D.AD," rounded-2xl border ").concat(D.qB),children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 ".concat(D.kq," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(D.Mx),children:"Could Not Load Service"}),(0,a.jsx)("p",{className:"".concat(D.tM),children:t||"The service details could not be retrieved."}),(0,a.jsxs)(n.default,{href:"/services",className:"mt-6 ".concat(D.j0),children:[(0,a.jsx)(d.Z,{size:18,className:"mr-2"})," Back to Services"]})]})},Z=e=>{let{label:t,value:i,icon:s,className:n,highlight:l}=e;return null==i||""===i?null:(0,a.jsxs)("div",{className:"flex items-start py-2 ".concat(n||""),children:[s&&(0,a.jsx)(s,{size:16,className:"mr-3 mt-1 flex-shrink-0 ".concat(l?D.o5:D.xb)}),(0,a.jsxs)("span",{className:"text-sm ".concat(l?"font-semibold ".concat(D.qf):"font-medium ".concat(D.tM)," w-36 md:w-40 flex-shrink-0"),children:[t,":"]}),(0,a.jsx)("span",{className:"text-sm ".concat(D.tM," flex-grow break-words"),children:i})]})},M=e=>{let{title:t,icon:i,children:s,className:n}=e;return(0,a.jsxs)("div",{className:"py-5 border-b ".concat(D.J," last:border-b-0 ").concat(n||""),children:[(0,a.jsxs)("h2",{className:D.ME,children:[i&&(0,a.jsx)(i,{size:20,className:"mr-2.5 ".concat(D.xb)}),t]}),(0,a.jsx)("div",{className:"space-y-1",children:s})]})};var A=()=>{var e,t,i;let c;let o=(0,s.useParams)().serviceId;console.log("\uD83D\uDD0D RentalServiceDetailPage: Loading service with ID:",o);let{data:A,error:P,status:z}=(0,r.i)(o?"/api/services-main/".concat(o):null),J="error"===z?P:null;console.log("\uD83D\uDD0D RentalServiceDetailPage: API Response:",JSON.stringify(A)),console.log("\uD83D\uDD0D RentalServiceDetailPage: Status:",z),console.log("\uD83D\uDD0D RentalServiceDetailPage: Error:",J);let I=null;if(A&&("data"in A&&A.data?I=A.data:("service_category"in A&&A.service_category||"type"in A&&A.type)&&(I=A)),console.log("\uD83D\uDD0D RentalServiceDetailPage: Service Data:",JSON.stringify(I)),I&&("rental"===I.service_category?c=I:I.type&&"string"==typeof I.type&&I.type.startsWith("rental")&&(c={...I,service_category:"rental"})),console.log("\uD83D\uDD0D RentalServiceDetailPage: Processed Service:",c?"Valid rental service":"Invalid or non-rental service"),"loading"===z)return(0,a.jsx)(w,{});if(J||!c)return(0,a.jsx)(S,{message:(null==J?void 0:J.message)||(null==A?void 0:A.message)||"Rental service not found or invalid type."});let q=(e=>{var t,i,a,s,n;let l=null;if(e.amenities&&"string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);(null==t?void 0:null===(a=t.specifics)||void 0===a?void 0:a.rental)&&(l=t.specifics.rental)}catch(e){console.error("Failed to parse amenities JSON:",e)}else"object"==typeof e.amenities&&null!==e.amenities&&(null===(n=e.amenities)||void 0===n?void 0:null===(s=n.specifics)||void 0===s?void 0:s.rental)&&(l=e.amenities.specifics.rental);return{item_type:(null==l?void 0:l.item_type)||e.item_type,rental_duration_options:Array.isArray(null==l?void 0:l.rental_duration_options)?l.rental_duration_options:Array.isArray(e.rental_duration_options)?e.rental_duration_options:[],price_per_hour:(null==l?void 0:l.price_per_hour)||e.price_per_hour,price_per_day:(null==l?void 0:l.price_per_day)||e.price_per_day,deposit_amount:(null==l?void 0:null===(t=l.deposit)||void 0===t?void 0:t.amount)||e.deposit_amount,pickup_location_options:Array.isArray(null==l?void 0:l.pickup_location_options)?l.pickup_location_options:Array.isArray(e.pickup_location_options)?e.pickup_location_options:[],rental_terms:(null==l?void 0:null===(i=l.requirements)||void 0===i?void 0:i.details)||e.rental_terms,unit:(null==l?void 0:l.unit)||null,price_details:e.price_details,price_numeric:e.price_numeric}})(c),R=e=>!e||"string"!=typeof e||""===e.trim()||["null","undefined"].includes(e.toLowerCase())?"/images/placeholder_service.jpg":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/images/".concat(e),C=R(null===(e=c.images)||void 0===e?void 0:e[0]),O=(null!==(i=c.images)&&void 0!==i?i:[]).slice(1).map(e=>R(e)).filter(e=>"/images/placeholder_service.jpg"!==e),L=(e=>{if(Array.isArray(e.amenities))return e.amenities.map(String);if("string"==typeof e.amenities)try{let t=JSON.parse(e.amenities);if(t&&Array.isArray(t.general))return t.general.map(String)}catch(e){console.error("Failed to parse amenities JSON for general amenities:",e)}else if("object"==typeof e.amenities&&null!==e.amenities){var t;if(Array.isArray(null===(t=e.amenities)||void 0===t?void 0:t.general))return e.amenities.general.map(String)}return[]})(c),{days:B,notes:E}=(e=>{let t=[],i=null;if(!e)return{days:t,notes:"Not specified"};let a=null;if("string"==typeof e)try{let t=e;t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t=t.replace(/\\"/g,'"'),a=JSON.parse(t)}catch(t){console.error("Failed to parse availability_summary JSON:",t),i=e}else"object"==typeof e&&null!==e&&(a=e);return a&&(Array.isArray(a.days)&&(t=a.days.map(e=>String(e))),"string"==typeof a.notes&&(i=a.notes)),0===t.length&&null===i?i="Availability details not specified.":t.length,{days:t,notes:i}})(c.availability_summary);return(0,a.jsxs)("div",{className:"bg-white min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40 border-b ".concat(D.J),children:(0,a.jsx)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:(0,a.jsxs)(n.default,{href:"/services",className:D.j0,children:[(0,a.jsx)(d.Z,{size:18,className:"mr-1.5"}),"Back to Services"]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(D.dI),children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(D.qf," mb-2"),children:c.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center text-sm ".concat(D.tM," gap-x-4 gap-y-1.5"),children:[c.island_name&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{size:15,className:"mr-1.5 ".concat(D.xb)})," ",c.island_name]}),q.item_type&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{size:15,className:"mr-1.5 ".concat(D.xb)})," ",q.item_type]}),null!==c.rating&&"number"==typeof c.rating&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{size:15,className:"mr-1 text-yellow-400 fill-current"})," ",c.rating.toFixed(1),"/5.0"]})]}),(null===(t=c.provider)||void 0===t?void 0:t.business_name)&&(0,a.jsxs)("p",{className:"text-sm ".concat(D.tM," mt-2"),children:["Provided by: ",(0,a.jsx)("span",{className:"font-medium ".concat(D.qf),children:c.provider.business_name})]})]}),(0,a.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-10",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)("div",{className:"mb-6 rounded-2xl overflow-hidden shadow-lg relative aspect-[16/10] border ".concat(D.J),children:[(0,a.jsx)(l.default,{src:C,alt:"Main image for ".concat(c.name),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Main image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},priority:!0,unoptimized:!0,sizes:"(max-width: 1024px) 100vw, 66vw",loading:"eager"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,a.jsx)(x.Z,{size:48,className:"".concat(D.xb," opacity-50")})})]}),O.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:O.map((e,t)=>(0,a.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md aspect-square relative border ".concat(D.J),children:[(0,a.jsx)(l.default,{src:e,alt:"".concat(c.name," gallery image ").concat(t+1),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Gallery image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},unoptimized:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw",loading:"lazy"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:(0,a.jsx)(x.Z,{size:32,className:"".concat(D.xb," opacity-50")})})]},t))}),(0,a.jsxs)("div",{className:D.JB,children:[(0,a.jsx)(M,{title:"Rental Overview",icon:h.Z,children:(0,a.jsx)("p",{className:"text-base leading-relaxed ".concat(D.tM),children:c.description||"Detailed description not available."})}),(0,a.jsxs)(M,{title:"Rental Details",icon:m.Z,children:[(0,a.jsx)(Z,{label:"Item Type",value:q.item_type,icon:v.Z,highlight:!0}),q.rental_duration_options&&q.rental_duration_options.length>0&&(0,a.jsx)(Z,{label:"Duration Options",value:q.rental_duration_options.join(", "),icon:g.Z}),q.pickup_location_options&&q.pickup_location_options.length>0&&(0,a.jsx)(Z,{label:"Pickup Locations",value:q.pickup_location_options.join(", "),icon:p.Z}),q.unit&&(0,a.jsx)(Z,{label:"Unit",value:q.unit})]}),(0,a.jsxs)(M,{title:"Pricing",icon:y.Z,children:[c.price_numeric?(0,a.jsx)(Z,{label:"Base Price",value:"₹".concat(c.price_numeric.toLocaleString("en-IN")),highlight:!0}):(0,a.jsx)(Z,{label:"Price",value:c.price_details||"Contact provider",highlight:!0}),q.price_per_hour&&(0,a.jsx)(Z,{label:"Per Hour",value:"₹".concat(q.price_per_hour.toLocaleString("en-IN"))}),q.price_per_day&&(0,a.jsx)(Z,{label:"Per Day",value:"₹".concat(q.price_per_day.toLocaleString("en-IN"))}),q.deposit_amount&&(0,a.jsx)(Z,{label:"Security Deposit",value:"₹".concat(q.deposit_amount.toLocaleString("en-IN")),icon:_}),c.price_details&&c.price_details!==String(c.price_numeric)&&(0,a.jsx)(Z,{label:"Notes",value:c.price_details})]}),L.length>0&&(0,a.jsx)(M,{title:"Features / Included",icon:j.Z,children:(0,a.jsx)("ul",{className:"list-disc list-inside text-sm ".concat(D.tM," grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1.5 marker:").concat(D.xb),children:L.map((e,t)=>(0,a.jsx)("li",{children:e},t))})}),q.rental_terms&&(0,a.jsx)(M,{title:"Rental Terms",icon:f.Z,children:(0,a.jsx)("p",{className:"text-sm ".concat(D.tM," whitespace-pre-line"),children:q.rental_terms})}),(0,a.jsxs)(M,{title:"Availability & Policy",icon:b.Z,className:"border-b-0 pb-0",children:[B.length>0&&(0,a.jsx)(Z,{label:"Available Days",value:B.join(", ")}),E&&(0,a.jsx)(Z,{label:"Notes",value:E}),(0,a.jsx)(Z,{label:"Cancellation",value:c.cancellation_policy||"Not specified",icon:N.Z})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,a.jsxs)("div",{className:"".concat(D.JB," sticky top-24 shadow-xl"),children:[" ",(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(D.qf," mb-1.5"),children:"Price"}),(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(D.qf," mb-1"),children:[" ",c.price_numeric?"₹".concat(c.price_numeric.toLocaleString("en-IN")):c.price_details||"Contact"]}),(0,a.jsx)("p",{className:"text-xs ".concat(D.tM," mb-4"),children:q.price_per_day?"per day":q.price_per_hour?"per hour":c.price_numeric?"(indicative price)":"(contact for details)"}),(0,a.jsx)("button",{type:"button",className:"".concat(D.zi," w-full"),onClick:()=>alert("Booking functionality to be implemented!"),children:"Book Now / Enquire"}),(0,a.jsx)("p",{className:"text-xs ".concat(D.tM," mt-2.5 text-center"),children:"Check availability and book now!"}),c.provider&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t ".concat(D.J),children:[(0,a.jsxs)("h4",{className:"text-md font-semibold ".concat(D.qf," mb-2 flex items-center"),children:[(0,a.jsx)(k.Z,{size:18,className:"mr-2 ".concat(D.xb)}),"Service Provider"]}),(0,a.jsx)("p",{className:"text-sm font-medium ".concat(D.qf),children:c.provider.business_name})]})]})})]})]})]})}}},function(e){e.O(0,[2972,3847,3094,2971,2117,1744],function(){return e(e.s=3555)}),_N_E=e.O()}]);