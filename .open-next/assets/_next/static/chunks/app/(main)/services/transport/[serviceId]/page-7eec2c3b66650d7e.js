(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6836],{8705:function(e,s,i){Promise.resolve().then(i.bind(i,6157))},7662:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});let a=(0,i(9763).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},7746:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});let a=(0,i(9763).Z)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},9663:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});let a=(0,i(9763).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},5805:function(e,s,i){"use strict";i.d(s,{Z:function(){return a}});let a=(0,i(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6157:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return M}});var a=i(7437);i(2265);var t=i(9376),r=i(7648),c=i(3145),l=i(9889),n=i(5863),o=i(3639),d=i(2451),p=i(3774),m=i(7662),u=i(6595),x=i(3974),v=i(3245),h=i(5805);let g=(0,i(9763).Z)("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);var y=i(9663),f=i(7746),j=i(5302),b=i(8501),N=i(3820),_=i(44),k=i(3494);let D=()=>(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(k.dI," text-center ").concat(k.Cx," rounded-2xl border ").concat(k.J),children:[(0,a.jsx)(n.Z,{className:"h-12 w-12 animate-spin ".concat(k.xb," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(k.qf),children:"Loading Transport Service Details..."}),(0,a.jsx)("p",{className:"".concat(k.tM),children:"Please wait a moment."})]}),w=e=>{let{message:s}=e;return(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(k.dI," text-center ").concat(k.AD," rounded-2xl border ").concat(k.qB),children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 ".concat(k.kq," mx-auto mb-4")}),(0,a.jsx)("p",{className:"text-xl font-semibold ".concat(k.Mx),children:"Could Not Load Service"}),(0,a.jsx)("p",{className:"".concat(k.tM),children:s||"The service details could not be retrieved."}),(0,a.jsxs)(r.default,{href:"/services",className:"mt-6 ".concat(k.j0),children:[(0,a.jsx)(d.Z,{size:18,className:"mr-2"})," Back to Services"]})]})},S=e=>{let{label:s,value:i,icon:t,className:r,highlight:c}=e;return null==i||""===i?null:(0,a.jsxs)("div",{className:"flex items-start py-2 ".concat(r||""),children:[t&&(0,a.jsx)(t,{size:16,className:"mr-3 mt-1 flex-shrink-0 ".concat(c?k.o5:k.xb)}),(0,a.jsxs)("span",{className:"text-sm ".concat(c?"font-semibold ".concat(k.qf):"font-medium ".concat(k.tM)," w-36 md:w-40 flex-shrink-0"),children:[s,":"]}),(0,a.jsx)("span",{className:"text-sm ".concat(k.tM," flex-grow break-words"),children:i})]})},Z=e=>{let{title:s,icon:i,children:t,className:r}=e;return(0,a.jsxs)("div",{className:"py-5 border-b ".concat(k.J," last:border-b-0 ").concat(r||""),children:[(0,a.jsxs)("h2",{className:k.ME,children:[i&&(0,a.jsx)(i,{size:20,className:"mr-2.5 ".concat(k.xb)}),s]}),(0,a.jsx)("div",{className:"space-y-1",children:t})]})};var M=()=>{var e,s,i;let n;let o=(0,t.useParams)().serviceId;console.log("\uD83D\uDD0D TransportServiceDetailPage: Loading service with ID:",o);let{data:M,error:P,status:z}=(0,l.i)(o?"/api/services-main/".concat(o):null),A="error"===z?P:null;console.log("\uD83D\uDD0D TransportServiceDetailPage: API Response:",JSON.stringify(M)),console.log("\uD83D\uDD0D TransportServiceDetailPage: Status:",z),console.log("\uD83D\uDD0D TransportServiceDetailPage: Error:",A);let q=null;if(M&&("data"in M&&M.data?q=M.data:("service_category"in M&&M.service_category||"type"in M&&M.type)&&(q=M)),console.log("\uD83D\uDD0D TransportServiceDetailPage: Service Data:",JSON.stringify(q)),q&&("transport"===q.service_category?n=q:q.type&&"string"==typeof q.type&&q.type.startsWith("transport")&&(n={...q,service_category:"transport"})),console.log("\uD83D\uDD0D TransportServiceDetailPage: Processed Service:",n?"Valid transport service":"Invalid or non-transport service"),"loading"===z)return(0,a.jsx)(D,{});if(A||!n)return(0,a.jsx)(w,{message:(null==A?void 0:A.message)||(null==M?void 0:M.message)||"Transport service not found or invalid type."});let J=(e=>{var s,i,a;let t=null;if(e.amenities&&"string"==typeof e.amenities)try{let i=JSON.parse(e.amenities);(null==i?void 0:null===(s=i.specifics)||void 0===s?void 0:s.transport)&&(t=i.specifics.transport)}catch(e){console.error("Failed to parse amenities JSON:",e)}else"object"==typeof e.amenities&&null!==e.amenities&&(null===(a=e.amenities)||void 0===a?void 0:null===(i=a.specifics)||void 0===i?void 0:i.transport)&&(t=e.amenities.specifics.transport);return{vehicle_type:(null==t?void 0:t.vehicle_type)||e.vehicle_type,capacity_passengers:(null==t?void 0:t.capacity_passengers)||e.capacity_passengers,route_details:(null==t?void 0:t.route_details)||e.route_details,price_per_km:(null==t?void 0:t.price_per_km)||e.price_per_km,price_per_trip:(null==t?void 0:t.price_per_trip)||e.price_per_trip,driver_included:(null==t?void 0:t.driver_included)!==void 0?t.driver_included:e.driver_included,price_details:e.price_details,price_numeric:e.price_numeric}})(n),T=e=>!e||"string"!=typeof e||""===e.trim()||["null","undefined"].includes(e.toLowerCase())?"/images/placeholder_service.jpg":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/images/".concat(e),I=T(null===(e=n.images)||void 0===e?void 0:e[0]),C=(null!==(i=n.images)&&void 0!==i?i:[]).slice(1).map(e=>T(e)).filter(e=>"/images/placeholder_service.jpg"!==e),O=(e=>{if(Array.isArray(e.amenities))return e.amenities.map(String);if("string"==typeof e.amenities)try{let s=JSON.parse(e.amenities);if(s&&Array.isArray(s.general))return s.general.map(String)}catch(e){console.error("Failed to parse amenities JSON for general amenities:",e)}else if("object"==typeof e.amenities&&null!==e.amenities){var s;if(Array.isArray(null===(s=e.amenities)||void 0===s?void 0:s.general))return e.amenities.general.map(String)}return[]})(n),{days:E,notes:L}=(e=>{let s=[],i=null;if(!e)return{days:s,notes:"Not specified"};let a=null;if("string"==typeof e)try{let s=e;s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1)),s=s.replace(/\\"/g,'"'),a=JSON.parse(s)}catch(s){console.error("Failed to parse availability_summary JSON:",s),i=e}else"object"==typeof e&&null!==e&&(a=e);return a&&(Array.isArray(a.days)&&(s=a.days.map(e=>String(e))),"string"==typeof a.notes&&(i=a.notes)),0===s.length&&null===i&&(i="Availability details not specified."),{days:s,notes:i}})(n.availability_summary);return(0,a.jsxs)("div",{className:"bg-white min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm py-3 sticky top-0 z-40 border-b ".concat(k.J),children:(0,a.jsx)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:(0,a.jsxs)(r.default,{href:"/services",className:k.j0,children:[(0,a.jsx)(d.Z,{size:18,className:"mr-1.5"}),"Back to Services"]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 ".concat(k.dI),children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold ".concat(k.qf," mb-2"),children:n.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center text-sm ".concat(k.tM," gap-x-4 gap-y-1.5"),children:[n.island_name&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{size:15,className:"mr-1.5 ".concat(k.xb)})," ",n.island_name]}),J.vehicle_type&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{size:15,className:"mr-1.5 ".concat(k.xb)})," ",J.vehicle_type]}),null!==n.rating&&"number"==typeof n.rating&&(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{size:15,className:"mr-1 text-yellow-400 fill-current"})," ",n.rating.toFixed(1),"/5.0"]})]}),(null===(s=n.provider)||void 0===s?void 0:s.business_name)&&(0,a.jsxs)("p",{className:"text-sm ".concat(k.tM," mt-2"),children:["Provided by: ",(0,a.jsx)("span",{className:"font-medium ".concat(k.qf),children:n.provider.business_name})]})]}),(0,a.jsxs)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-10",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)("div",{className:"mb-6 rounded-2xl overflow-hidden shadow-lg relative aspect-[16/10] border ".concat(k.J),children:[(0,a.jsx)(c.default,{src:I,alt:"Main image for ".concat(n.name),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Main image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},priority:!0,unoptimized:!0,sizes:"(max-width: 1024px) 100vw, 66vw",loading:"eager"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:[" ",(0,a.jsx)(x.Z,{size:48,className:"".concat(k.xb," opacity-50")})]})]}),C.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-8",children:C.map((e,s)=>(0,a.jsxs)("div",{className:"rounded-xl overflow-hidden shadow-md aspect-square relative border ".concat(k.J),children:[(0,a.jsx)(c.default,{src:e,alt:"".concat(n.name," gallery image ").concat(s+1),fill:!0,style:{objectFit:"cover"},className:"bg-gray-100",onError:e=>{console.log("Gallery image error, using placeholder"),e.currentTarget.src="/images/placeholder_service.jpg",e.currentTarget.onerror=null},unoptimized:!0,sizes:"(max-width: 640px) 50vw, (max-width: 768px) 33vw, 25vw",loading:"lazy"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/50 pointer-events-none",children:[" ",(0,a.jsx)(x.Z,{size:32,className:"".concat(k.xb," opacity-50")})]})]},s))}),(0,a.jsxs)("div",{className:k.JB,children:[(0,a.jsx)(Z,{title:"Service Overview",icon:v.Z,children:(0,a.jsx)("p",{className:"text-base leading-relaxed ".concat(k.tM),children:n.description||"Detailed description not available."})}),(0,a.jsxs)(Z,{title:"Transport Details",icon:m.Z,children:[(0,a.jsx)(S,{label:"Vehicle Type",value:J.vehicle_type,icon:m.Z,highlight:!0}),(0,a.jsx)(S,{label:"Capacity",value:J.capacity_passengers?"".concat(J.capacity_passengers," passengers"):null,icon:h.Z}),(0,a.jsx)(S,{label:"Route/Area",value:J.route_details,icon:g}),(0,a.jsx)(S,{label:"Driver",value:!0===J.driver_included?"Included":!1===J.driver_included?"Not Included":"N/A",icon:y.Z})]}),(0,a.jsxs)(Z,{title:"Pricing",icon:f.Z,children:[n.price_numeric?(0,a.jsx)(S,{label:"Base Price",value:"₹".concat(n.price_numeric.toLocaleString("en-IN")),highlight:!0}):(0,a.jsx)(S,{label:"Price",value:n.price_details||"Contact provider",highlight:!0}),J.price_per_km&&(0,a.jsx)(S,{label:"Per KM",value:"₹".concat(J.price_per_km.toLocaleString("en-IN"))}),J.price_per_trip&&(0,a.jsx)(S,{label:"Per Trip",value:"₹".concat(J.price_per_trip.toLocaleString("en-IN"))}),n.price_details&&n.price_details!==String(n.price_numeric)&&(0,a.jsx)(S,{label:"Notes",value:n.price_details})]}),O.length>0&&(0,a.jsx)(Z,{title:"Features & Amenities",icon:j.Z,children:(0,a.jsx)("ul",{className:"list-disc list-inside text-sm ".concat(k.tM," grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1.5 marker:").concat(k.xb),children:O.map((e,s)=>(0,a.jsx)("li",{children:e},s))})}),(0,a.jsxs)(Z,{title:"Availability & Policy",icon:b.Z,className:"border-b-0 pb-0",children:[E.length>0&&(0,a.jsx)(S,{label:"Available Days",value:E.join(", ")}),L&&(0,a.jsx)(S,{label:"Notes",value:L}),(0,a.jsx)(S,{label:"Cancellation",value:n.cancellation_policy||"Not specified",icon:N.Z})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1 mt-8 lg:mt-0",children:(0,a.jsxs)("div",{className:"".concat(k.JB," sticky top-24 shadow-xl"),children:[(0,a.jsx)("h3",{className:"text-xl font-semibold ".concat(k.qf," mb-1.5"),children:"Price"}),(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(k.qf," mb-1"),children:[" ",n.price_numeric?"₹".concat(n.price_numeric.toLocaleString("en-IN")):"Contact"]}),(0,a.jsx)("p",{className:"text-xs ".concat(k.tM," mb-4"),children:n.price_numeric?"(indicative price)":"(contact for details)"}),(0,a.jsx)("button",{type:"button",className:"".concat(k.zi," w-full"),children:"Book Now / Enquire"}),n.provider&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t ".concat(k.J),children:[(0,a.jsxs)("h4",{className:"text-md font-semibold ".concat(k.qf," mb-2 flex items-center"),children:[(0,a.jsx)(_.Z,{size:18,className:"mr-2 ".concat(k.xb)}),"Service Provider"]}),(0,a.jsx)("p",{className:"text-sm font-medium ".concat(k.qf),children:n.provider.business_name})]})]})})]})]})]})}}},function(e){e.O(0,[2972,3847,3094,2971,2117,1744],function(){return e(e.s=8705)}),_N_E=e.O()}]);