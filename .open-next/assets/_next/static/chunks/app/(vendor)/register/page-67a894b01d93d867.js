(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6820],{31088:function(e,s,r){Promise.resolve().then(r.bind(r,94168))},39763:function(e,s,r){"use strict";r.d(s,{Z:function(){return o}});var t=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,s)=>{let r=(0,t.forwardRef)((r,o)=>{let{color:i="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:c="",children:m,...h}=r;return(0,t.createElement)("svg",{ref:o,...a,width:l,height:l,stroke:i,strokeWidth:u?24*Number(d)/Number(l):d,className:["lucide","lucide-".concat(n(e)),c].join(" "),...h},[...s.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},15863:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},27648:function(e,s,r){"use strict";r.d(s,{default:function(){return a.a}});var t=r(72972),a=r.n(t)},99376:function(e,s,r){"use strict";var t=r(35475);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},94168:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return l}});var t=r(57437),a=r(2265),n=r(27648),o=r(99376),i=r(15863);function l(){let[e,s]=(0,a.useState)({businessName:"",firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",businessType:"hotel",address:""}),[r,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[c,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),x=(0,o.useRouter)(),b=e=>{let{name:r,value:t}=e.target;s(e=>({...e,[r]:t})),d&&u("")},f=async s=>{if(s.preventDefault(),u(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<8){u("Password must be at least 8 characters long.");return}if(!h){u("You must agree to the Terms and Conditions to register.");return}if(!e.firstName||!e.lastName){u("First name and last name are required.");return}l(!0);try{console.log("Submitting Vendor Registration:",e);let s=await fetch("/api/vendor/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phone:e.phone,businessName:e.businessName,businessType:e.businessType,address:e.address})});if(!s.ok){let e="HTTP error! status: ".concat(s.status);try{let r=await s.json();"object"==typeof r&&null!==r&&"message"in r&&"string"==typeof r.message&&(e=r.message||e)}catch(e){console.error("Failed to parse error JSON:",e)}throw Error(e)}console.log("Vendor registration API call successful."),m(!0),setTimeout(()=>{x.push("/login")},3e3)}catch(e){console.error("Vendor registration error:",e),u(e instanceof Error?e.message:"An error occurred during registration. Please try again.")}finally{l(!1)}};return c?(0,t.jsx)("div",{className:"max-w-md mx-auto my-12 px-4",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsxs)("div",{className:"mb-4",children:[" "," "]}),(0,t.jsx)("h2",{className:"text-xl font-bold text-green-600 mb-2",children:"Registration Submitted!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Your application has been received. We will review it and get back to you soon. Redirecting to login..."}),(0,t.jsx)(i.Z,{className:"h-6 w-6 animate-spin mx-auto text-blue-600"})," "]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 py-8 sm:py-12",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Register as a Vendor"}),d&&(0,t.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,t.jsx)("span",{className:"block sm:inline",children:d})}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-1",children:" Business Name "})," ",(0,t.jsx)("input",{type:"text",id:"businessName",name:"businessName",value:e.businessName,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:" Owner's First Name "})," ",(0,t.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:" Owner's Last Name "})," ",(0,t.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:" Email Address "})," ",(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:b,required:!0,placeholder:"you@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:" Phone Number "})," ",(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:" Password "})," ",(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:b,required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:" Confirm Password "})," ",(0,t.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:b,required:!0,minLength:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"businessType",className:"block text-sm font-medium text-gray-700 mb-1",children:" Business Type "})," ",(0,t.jsxs)("select",{id:"businessType",name:"businessType",value:e.businessType,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:["  ",(0,t.jsx)("option",{value:"hotel",children:"Hotel / Resort"})," ",(0,t.jsx)("option",{value:"activity_provider",children:"Activity Provider"})," ",(0,t.jsx)("option",{value:"transport",children:"Transportation Service"})," ",(0,t.jsx)("option",{value:"rental",children:"Rental Service"}),"  "]})," "]})]}),(0,t.jsxs)("div",{children:[" ",(0,t.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:" Business Address "})," ",(0,t.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})," "]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"terms",checked:h,onChange:e=>{g(e.target.checked),d&&u("")},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the ",(0,t.jsx)(n.default,{href:"/terms",className:"text-blue-600 hover:underline",target:"_blank",children:"Terms and Conditions"})," and ",(0,t.jsx)(n.default,{href:"/privacy",className:"text-blue-600 hover:underline",target:"_blank",children:"Privacy Policy"})," for vendors."]})]}),(0,t.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{className:"animate-spin h-5 w-5 mr-2"}),"Submitting Registration..."]}):"Register as Vendor"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have a vendor account?"," ",(0,t.jsx)(n.default,{href:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in Here"})]})})]})})})}}},function(e){e.O(0,[2972,2971,2117,1744],function(){return e(e.s=31088)}),_N_E=e.O()}]);